"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[231],{4231:(e,r,t)=>{async function o(e,r,t,o){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},{chunkSize:n=0x1400000,onProgress:c}=a,s=Math.ceil(r.size/n);if(!e)throw Error("Supabase client is required");try{for(let a=0;a<s;a++){let l=a*n,u=Math.min(l+n,r.size),i=r.slice(l,u),h="".concat(o,".chunk.").concat(a),{error:d}=await e.storage.from(t).upload(h,i,{cacheControl:"3600",upsert:!1});if(d)throw Error("Failed to upload chunk ".concat(a+1,"/").concat(s,": ").concat(d.message));c&&c({chunkNumber:a+1,totalChunks:s,bytesUploaded:u,totalBytes:r.size,percentage:Math.round(u/r.size*100)})}return{success:!0}}catch(e){return console.error("Chunked upload error:",e),{success:!1,error:e.message||"Upload failed"}}}async function a(e,r,t,o){let a=[];for(let n=0;n<o;n++){let o="".concat(t,".chunk.").concat(n),{data:c,error:s}=await e.storage.from(r).download(o);if(s)throw Error("Failed to download chunk ".concat(n,": ").concat(s.message));a.push(await c.arrayBuffer())}let n=new Uint8Array(a.reduce((e,r)=>e+r.byteLength,0)),c=0;for(let e of a)n.set(new Uint8Array(e),c),c+=e.byteLength;return new Blob([n])}async function n(e,r,t,o){let a=[];for(let e=0;e<o;e++)a.push("".concat(t,".chunk.").concat(e));try{await e.storage.from(r).remove(a)}catch(e){console.warn("Failed to cleanup chunks:",e)}}t.r(r),t.d(r,{cleanupChunks:()=>n,downloadAndReassembleChunks:()=>a,uploadFileInChunks:()=>o})}}]);
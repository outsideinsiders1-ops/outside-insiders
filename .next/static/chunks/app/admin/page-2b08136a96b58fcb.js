(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{4382:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(5155),r=i(2115),a=i(1993),n=i(5704);let o=n.env.NEXT_PUBLIC_SUPABASE_URL,l=n.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,d=null;if(o&&l&&"string"==typeof o&&"string"==typeof l&&o.trim()&&l.trim()&&"undefined"!==o&&"undefined"!==l)try{d=(0,a.UU)(o.trim(),l.trim())}catch(e){}let c=["office","offices","headquarters","hq","admin","administration","facility","facilities","service center","service center","city hall","county office","county building","municipal building","government center","courthouse","courthouse annex","maintenance","maintenance facility","equipment yard","warehouse","storage","depot"];function p(e){if(!e)return 0;let t=0;if(e.name&&"Unnamed Park"!==e.name&&e.name.trim().length>0&&(t+=20),e.latitude&&e.longitude){let i=parseFloat(e.latitude),s=parseFloat(e.longitude);!isNaN(i)&&!isNaN(s)&&i>=-90&&i<=90&&s>=-180&&s<=180&&(t+=20)}if(e.website&&e.website.trim().length>0)try{new URL(e.website),t+=20}catch(e){}return(e.phone&&e.phone.trim().length>0||e.email&&e.email.trim().length>0)&&(t+=10),e.activities&&Array.isArray(e.activities)&&e.activities.length>0&&(t+=10),e.amenities&&Array.isArray(e.amenities)&&e.amenities.length>0&&(t+=10),e.geometry&&(t+=10),Math.min(t,100)}function u(e){let{value:t,editedValue:i,isEditing:a,onStartEdit:n,onSave:o,onCancel:l}=e,[d,c]=(0,r.useState)(void 0!==i?i:t);if((0,r.useEffect)(()=>{void 0!==i?c(i):c(t)},[i,t]),a)return(0,s.jsx)("td",{style:{padding:"12px"},children:(0,s.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key?o(d):"Escape"===e.key&&(c(void 0!==i?i:t),l())},onBlur:()=>{d!==t&&d!==i?o(d):l()},autoFocus:!0,style:{width:"100%",padding:"4px 8px",border:"2px solid #4CAF50",borderRadius:"4px",fontSize:"0.9rem"}})});let p=void 0!==i&&i!==t;return(0,s.jsxs)("td",{style:{padding:"12px",cursor:"pointer",background:p?"#fff9e6":"transparent",position:"relative"},onClick:n,title:"Click to edit",children:[void 0!==i?i:t,p&&(0,s.jsx)("span",{style:{position:"absolute",right:"4px",top:"4px",fontSize:"0.7rem",color:"#ff9800"},children:"●"})]})}i(6255);let h=function(){var e,t;let[a,n]=(0,r.useState)("scraper"),[o,l]=(0,r.useState)([]),[h,g]=(0,r.useState)([]),[x,y]=(0,r.useState)([]),[m,f]=(0,r.useState)([]),[j,b]=(0,r.useState)(!0),[v,k]=(0,r.useState)(""),[S,w]=(0,r.useState)(""),[C,A]=(0,r.useState)(""),[N,P]=(0,r.useState)(""),[D,T]=(0,r.useState)("state"),[F,I]=(0,r.useState)(!1),[E,_]=(0,r.useState)(null),[R,z]=(0,r.useState)(null),[B,L]=(0,r.useState)({counties:0,cities:0}),[U,q]=(0,r.useState)(null),[M,O]=(0,r.useState)("State Agency"),[W,G]=(0,r.useState)(""),[J,K]=(0,r.useState)(!1),[V,Q]=(0,r.useState)(null),[H,Y]=(0,r.useState)(null),[X,Z]=(0,r.useState)("NPS"),[$,ee]=(0,r.useState)(""),[et,ei]=(0,r.useState)(!1),[es,er]=(0,r.useState)(null),[ea,en]=(0,r.useState)(null),[eo,el]=(0,r.useState)([]),[ed,ec]=(0,r.useState)(!1),[ep,eu]=(0,r.useState)(null),[eh,eg]=(0,r.useState)(null),[ex,ey]=(0,r.useState)(50),[em,ef]=(0,r.useState)(!1),[ej,eb]=(0,r.useState)(null),[ev,ek]=(0,r.useState)(null),[eS,ew]=(0,r.useState)(50),[eC,eA]=(0,r.useState)(""),[eN,eP]=(0,r.useState)(!0),[eD,eT]=(0,r.useState)("coordinates"),[eF,eI]=(0,r.useState)(!1),[eE,e_]=(0,r.useState)(null),[eR,ez]=(0,r.useState)(null),[eB,eL]=(0,r.useState)({state:"",agency:"",dataSource:""}),[eU,eq]=(0,r.useState)([]),[eM,eO]=(0,r.useState)([]),[eW,eG]=(0,r.useState)(""),[eJ,eK]=(0,r.useState)([]),[eV,eQ]=(0,r.useState)([]),[eH,eY]=(0,r.useState)(new Set),[eX,eZ]=(0,r.useState)(!1),[e$,e0]=(0,r.useState)(new Map),[e1,e2]=(0,r.useState)(null),[e5,e6]=(0,r.useState)(!1),[e8,e4]=(0,r.useState)(null),[e3,e9]=(0,r.useState)("agency"),[e7,te]=(0,r.useState)(null),[tt,ti]=(0,r.useState)(!1);(0,r.useEffect)(()=>{tn(),tr(),ta(),ts()},[]);let ts=()=>{try{let e=localStorage.getItem("apiConfigs");if(e){let t=JSON.parse(e);if(el(t),t.length>0){let e=t.sort((e,t)=>new Date(t.lastUsed)-new Date(e.lastUsed))[0];Z(e.sourceType),ee(e.apiKey)}}}catch(e){console.error("Error loading saved API configs:",e)}};(0,r.useEffect)(()=>{"data-quality"!==a||0!==eJ.length||eF||tb()},[a,eJ.length,eF]);let tr=async()=>{if(d)try{let{data:e,error:t}=await d.from("parks").select("agency").not("agency","is",null);if(t)throw t;let i=[...new Set(e.map(e=>e.agency).filter(Boolean))].sort();eq(i)}catch(e){console.error("Error loading agencies:",e)}},ta=async()=>{if(d)try{let{data:e,error:t}=await d.from("parks").select("data_source").not("data_source","is",null);if(t)throw t;let i=[...new Set(e.map(e=>e.data_source).filter(Boolean))].sort();eO(i)}catch(e){console.error("Error loading data sources:",e)}},tn=async()=>{if(!d){console.error("Supabase client not initialized"),b(!1);return}b(!0);try{let{data:e,error:t}=await d.from("geographic_entities").select("id, name, state_code").eq("entity_type","state").order("name");if(t)throw t;e&&e.length>0&&l(e)}catch(e){console.error("Error loading states:",e)}finally{b(!1)}},to=async e=>{if(d)try{let{data:t,error:i}=await d.from("geographic_entities").select("id, name, metro_id").eq("entity_type","metro").eq("state_code",e).order("name");if(i)throw i;t&&t.length>0?g(t):g([])}catch(e){console.error("Error loading metros:",e),g([])}},tl=async e=>{if(d)try{let{data:t,error:i}=await d.from("geographic_entities").select("id, name").eq("entity_type","county").eq("state_code",e).order("name");if(i)throw i;t&&t.length>0?y(t):y([])}catch(e){console.error("Error loading counties:",e),y([])}},td=async e=>{if(d)try{let{data:t,error:i}=await d.from("geographic_entities").select("id, name").eq("entity_type","city").eq("state_code",e).order("name");if(i)throw i;t&&t.length>0?f(t):f([])}catch(e){console.error("Error loading cities:",e),f([])}},tc=async(e,t)=>{try{if(!d)return;let{data:i}=await d.from("geographic_entities").select("id").eq("entity_type","county").eq("metro_id",e).eq("state_code",t),{data:s}=await d.from("geographic_entities").select("id").eq("entity_type","city").eq("metro_id",e).eq("state_code",t);L({counties:i?i.length:0,cities:s?s.length:0})}catch(e){console.error("Error loading metro details:",e),L({counties:0,cities:0})}},tp=async(e,t)=>{k(e),w(""),A(""),P(""),L({counties:0,cities:0}),t?(await to(t),await tl(t),await td(t)):(g([]),y([]),f([]))},tu=async e=>{if(w(e),e){let t=h.find(t=>t.name===e),i=o.find(e=>e.name===v);t&&i&&await tc(t.metro_id,i.state_code)}else L({counties:0,cities:0})},th=e=>{T(e),w(""),A(""),P(""),L({counties:0,cities:0})},tg=async()=>{let e={type:D,state:v};if("state"===D){if(!v)return void z("Please select a state");e.name=v}else if("metro"===D){if(!S)return void z("Please select a metro area");let t=h.find(e=>e.name===S);e.name=S,e.metroId=null==t?void 0:t.metro_id}else if("county"===D){if(!C)return void z("Please select a county");e.name=C}else if("city"===D){if(!N)return void z("Please select a city");e.name=N}I(!0),z(null),_(null);try{let t=await fetch("/api/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await t.json();t.ok&&i.success?_(i):z(i.error||"Scraping failed")}catch(e){z("Error: ".concat(e.message))}finally{I(!1)}},tx=async()=>{if(!U)return void Y("Please select a file");if(!d)return void Y("Supabase client not initialized");K(!0),Y(null),Q(null);let e=null,t=U.size/1024/1024,s=t>200;try{let r="".concat(Date.now(),"-").concat(U.name);if(e="uploads/".concat(r),s){console.log("Uploading ".concat(t.toFixed(2)," MB file in chunks to Supabase Storage..."));let{uploadFileInChunks:s}=await i.e(231).then(i.bind(i,4231)),r=await s(d,U,"park-uploads",e,{chunkSize:0x1400000,onProgress:e=>{console.log("Upload progress: ".concat(e.percentage,"% (").concat(e.chunkNumber,"/").concat(e.totalChunks," chunks, ").concat((e.bytesUploaded/1024/1024).toFixed(2)," MB)"))}});if(!r.success)throw Error(r.error||"Chunked upload failed")}else{console.log("Uploading ".concat(t.toFixed(2)," MB to Supabase Storage..."));let{error:i}=await d.storage.from("park-uploads").upload(e,U,{cacheControl:"3600",upsert:!1});if(i){if(i.message.includes("Bucket not found")||i.message.includes("not found"))return void Y('Storage bucket "park-uploads" not found. Please create it in Supabase Dashboard > Storage.');throw i}}let{data:a}=d.storage.from("park-uploads").getPublicUrl(e),n=a.publicUrl;console.log("File uploaded to storage, processing...");let o=new FormData;o.append("fileUrl",n),o.append("sourceType",M),o.append("sourceName",U.name),o.append("filePath",e),W&&o.append("defaultState",W.trim());let l=new AbortController,c=setTimeout(()=>l.abort(),3e5),p=await fetch("/api/upload",{method:"POST",body:o,signal:l.signal});if(clearTimeout(c),!p.ok){let e="Upload failed with status ".concat(p.status);try{e=(await p.json()).error||e}catch(t){e=p.statusText||e}Y(e);return}let u=await p.json();if(u.success){Q(u),q(null);let e=document.querySelector('input[type="file"]');e&&(e.value="")}else if(Y(u.error||"Upload failed"),e)try{await d.storage.from("park-uploads").remove([e])}catch(e){console.warn("Failed to cleanup storage file on error:",e)}}catch(t){if(console.error("Upload error:",t),e)try{await d.storage.from("park-uploads").remove([e])}catch(e){console.warn("Failed to cleanup storage file on error:",e)}"AbortError"===t.name?Y("Upload timed out after 5 minutes. The file may be too large. Please try splitting it into smaller files or contact support."):Y("Network error: ".concat(t.message,". Please check your connection and try again."))}finally{K(!1)}},ty=async()=>{let e="Recreation.gov"===X&&$.trim()?$.trim():null;if(!e){let t=eo.find(e=>"Recreation.gov"===e.sourceType);t&&(e=t.apiKey)}if(!e)return void eg("API key is required. Please enter your Recreation.gov API key in the sync section above, or load a saved configuration.");ec(!0),eg(null),eu(null);try{let t=await fetch("/api/sync/recreation-gov-enrich",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:e,batchSize:parseInt(ex)||50})}),i=await t.json();if(!t.ok)throw Error(i.error||i.message||"Enrichment failed");eu(i)}catch(e){console.error("Enrichment error:",e),eg(e.message||"Failed to start enrichment process")}finally{ec(!1)}},tm=async()=>{ef(!0),eb(null),ek(null);try{let e=await fetch("/api/admin/geocode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:eS,state:eC||null,useGeometry:eN,geocodeType:eD})}),t=await e.json();if(!e.ok)throw Error(t.error||t.message||"Geocoding failed");eb(t)}catch(e){console.error("Geocoding error:",e),ek(e.message||"Failed to geocode parks")}finally{ef(!1)}},tf=async()=>{if(!X)return void en("Please select a source type");if(("NPS"===X||"Recreation.gov"===X)&&!$.trim())return void en("API key is required for this source type");ei(!0),en(null),er(null);try{console.log("Starting API sync:",{sourceType:X,hasApiKey:!!$.trim()});let e=await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceType:X,apiKey:$.trim()||void 0})});console.log("API sync response status:",e.status);let t=await e.json();if(console.log("API sync response data:",JSON.stringify(t,null,2)),er(null),en(null),!e.ok){let i=t.error||"Sync failed with status ".concat(e.status);if(t.details&&(i+=": ".concat(t.details)),400===e.status)t.example&&(i+="\n\nExample: ".concat(JSON.stringify(t.example,null,2)));else if(501===e.status){i="API Sync is not yet implemented. This endpoint is coming soon.",t.note&&(i+="\n\n".concat(t.note)),t.nextSteps&&(i+="\n\nPlanned features:\n".concat(t.nextSteps.map((e,t)=>"".concat(t+1,". ").concat(e)).join("\n"))),en(i);return}else 500===e.status&&(i="Server error: ".concat(t.message||i),t.details);en(i);return}if("SCRAPE_ROUTE"===t.route||t.message&&t.message.includes("TEST: Scraping")){en("ERROR: Request was routed to /api/scrape instead of /api/sync. This is a Next.js routing issue.\n\nTROUBLESHOOTING:\n1. Check Vercel logs - you should see \uD83D\uDD34 (red) circles, not \uD83D\uDD35 (blue)\n2. In Vercel dashboard, go to Settings > Functions and clear build cache\n3. Force a new deployment by making a small change and redeploying\n4. Check if there are any Vercel rewrites or redirects configured\n\nIf this persists, it may be a Next.js App Router bug. Consider temporarily renaming /api/scrape to /api/scrape-old to test."),er(null);return}if("SYNC_ROUTE"===t.route||t.route||console.warn("WARNING: Response does not have route identifier. This might indicate a routing issue."),!0===t.success){let e=t.results||t,i={success:!0,message:t.message||"Sync complete",parksFound:e.parksFound||0,parksAdded:e.parksAdded||0,parksUpdated:e.parksUpdated||0,parksSkipped:e.parksSkipped||0,errors:t.errors};console.log("API Sync result (parsed):",i),console.log("Parks Found:",i.parksFound),console.log("Parks Added:",i.parksAdded),console.log("Parks Updated:",i.parksUpdated),er(i),en(null),$.trim()&&((e,t)=>{try{let i=eo.filter(t=>t.sourceType!==e),s={sourceType:e,apiKey:t,lastUsed:new Date().toISOString()},r=[...i,s];localStorage.setItem("apiConfigs",JSON.stringify(r)),el(r)}catch(e){console.error("Error saving API config:",e)}})(X,$),0===i.parksFound&&en("No parks were found by the API. This could indicate:\n- Invalid API key\n- API rate limiting\n- Network issue\n\nCheck the console for detailed logs.")}else console.error("API Sync failed:",t),en(t.error||t.message||"Sync failed")}catch(e){console.error("API Sync error:",e),"TypeError"===e.name&&e.message.includes("fetch")?en("Network error: Could not connect to server. Please check your connection and try again."):en("Error: ".concat(e.message,". Please try again."))}finally{ei(!1)}},tj=async()=>{if(!d)return void ez("Supabase client not initialized");eI(!0),ez(null);try{let e=d.from("parks").select("*");eB.state&&(e=e.eq("state",eB.state)),eB.agency&&(e=e.eq("agency",eB.agency)),eB.dataSource&&(e=e.eq("data_source",eB.dataSource));let{data:t,error:i}=await e;if(i)throw Error(i.message||"Failed to load parks");if(t){let e=function(e){let t={total:e.length,withCoordinates:0,withDescription:0,withWebsite:0,withPhone:0,withAddress:0,withGeometry:0,averageQualityScore:0,qualityDistribution:{excellent:0,good:0,fair:0,poor:0},likelyNonParks:[],missingFields:{description:0,website:0,phone:0,address:0,geometry:0,coordinates:0},issues:[]},i=0;for(let s of e){s.latitude&&s.longitude&&t.withCoordinates++,s.description&&s.description.trim()&&t.withDescription++,s.website&&t.withWebsite++,s.phone&&t.withPhone++,s.address&&t.withAddress++,s.geometry&&t.withGeometry++,(!s.description||!s.description.trim())&&t.missingFields.description++,!s.website&&t.missingFields.website++,!s.phone&&t.missingFields.phone++,!s.address&&t.missingFields.address++,!s.geometry&&t.missingFields.geometry++,(!s.latitude||!s.longitude)&&t.missingFields.coordinates++;let e=p(s);i+=e,e>=80?t.qualityDistribution.excellent++:e>=60?t.qualityDistribution.good++:e>=40?t.qualityDistribution.fair++:t.qualityDistribution.poor++;let r=function(e){if(!e||!e.name)return!1;let t=e.name.toLowerCase();for(let e of c)if(t.includes(e))return{isNonPark:!0,reason:'Name contains "'.concat(e,'"'),confidence:"high"};if(e.acres&&e.acres<.1)return{isNonPark:!0,reason:"Very small size (".concat(e.acres," acres) - likely office/facility"),confidence:"medium"};for(let t of[/county\s+office/i,/city\s+hall/i,/municipal\s+building/i,/government\s+center/i,/service\s+center/i,/\badmin\b/i,/\bfacility\b/i])if(t.test(e.name))return{isNonPark:!0,reason:"Name matches non-park pattern",confidence:"high"};return{isNonPark:!1,reason:null,confidence:null}}(s);r.isNonPark&&t.likelyNonParks.push({id:s.id,name:s.name,state:s.state,agency:s.agency,reason:r.reason,confidence:r.confidence,acres:s.acres});let a=[];s.latitude&&s.longitude||a.push("Missing coordinates"),s.description&&s.description.trim()||a.push("Missing description"),s.geometry||a.push("Missing boundary geometry"),s.acres&&s.acres<.1&&a.push("Very small size (< 0.1 acres)"),e<40&&a.push("Low quality score"),a.length>0&&t.issues.push({id:s.id,name:s.name,state:s.state,agency:s.agency,score:e,issues:a})}return t.averageQualityScore=t.total>0?Math.round(i/t.total*100)/100:0,t.percentages={withCoordinates:t.total>0?Math.round(t.withCoordinates/t.total*100):0,withDescription:t.total>0?Math.round(t.withDescription/t.total*100):0,withWebsite:t.total>0?Math.round(t.withWebsite/t.total*100):0,withPhone:t.total>0?Math.round(t.withPhone/t.total*100):0,withAddress:t.total>0?Math.round(t.withAddress/t.total*100):0,withGeometry:t.total>0?Math.round(t.withGeometry/t.total*100):0},t}(t);e_(e),await tb()}}catch(e){console.error("Quality analysis error:",e),ez("Error: ".concat(e.message))}finally{eI(!1)}},tb=async()=>{if(!d)return void ez("Supabase client not initialized");eI(!0),ez(null);try{let e=d.from("parks").select("*");eB.state&&(e=e.eq("state",eB.state)),eB.agency&&(e=e.eq("agency",eB.agency)),eB.dataSource&&(e=e.eq("data_source",eB.dataSource));let{data:t,error:i}=await e;if(i)throw Error(i.message||"Failed to load parks");if(t){let e=t.map(e=>({...e,qualityScore:p(e),data_source_priority:e.data_source_priority||0}));eK(e);let i=e;if(eW){let e=eW.toLowerCase();i=i.filter(t=>t.name&&t.name.toLowerCase().includes(e)||t.city&&t.city.toLowerCase().includes(e)||t.county&&t.county.toLowerCase().includes(e)||t.state&&t.state.toLowerCase().includes(e)||t.agency&&t.agency.toLowerCase().includes(e)||t.data_source&&t.data_source.toLowerCase().includes(e))}eQ(i)}}catch(e){console.error("Load parks error:",e),ez("Error loading parks: ".concat(e.message))}finally{eI(!1)}},tv=()=>{let e=[...eJ];if(eB.state){let t=eB.state.toUpperCase();e=e.filter(e=>(e.state||"").toUpperCase()===t)}if(eB.agency&&(e=e.filter(e=>e.agency===eB.agency)),eB.dataSource&&(e=e.filter(e=>e.data_source===eB.dataSource)),eW.trim()){let t=eW.toLowerCase().trim();e=e.filter(e=>{var i,s,r,a,n,o,l;return!!((null==(i=e.name)?void 0:i.toLowerCase().includes(t))||(null==(s=e.state)?void 0:s.toLowerCase().includes(t))||(null==(r=e.agency)?void 0:r.toLowerCase().includes(t))||(null==(a=e.county)?void 0:a.toLowerCase().includes(t))||(null==(n=e.city)?void 0:n.toLowerCase().includes(t))||(null==(o=e.address)?void 0:o.toLowerCase().includes(t))||(null==(l=e.description)?void 0:l.toLowerCase().includes(t)))})}eQ(e)},tk=async e=>{if(!eV||0===eV.length)return void ez("Please search for parks first");ti(!0),ez(null);try{let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"agency",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["name","description","website","phone","address"];if(!e||0===e.length)return{rows:[],columns:i,matrix:{}};let s=new Map,r={},a=(e,t)=>{switch(t){case"name":return e.name&&"Unnamed Park"!==e.name?100:0;case"description":return e.description&&e.description.trim().length>0?100:0;case"website":return 100*!!e.website;case"phone":return 100*!!e.phone;case"address":return 100*!!e.address;case"coordinates":return e.latitude&&e.longitude?100:0;case"geometry":return 100*!!e.geometry;case"acres":return e.acres&&e.acres>0?100:0;default:return 100*!!e[t]}};for(let n of e){let e=null;switch(t){case"agency":e=n.agency||"Unknown";break;case"state":e=n.state||"Unknown";break;case"city":e=n.city||"Unknown";break;case"county":e=n.county||"Unknown";break;case"category":e=n.category||n.designation_type||"Unknown";break;default:e=n[t]||"Unknown"}if(!s.has(e))for(let t of(s.set(e,[]),r[e]={},i))r[e][t]={total:0,count:0};for(let t of(s.get(e).push(n),i)){let i=a(n,t);r[e][t].total+=i,r[e][t].count+=1}}let n=Array.from(s.keys()).sort(),o={};for(let e of n)for(let t of(o[e]={},i)){let{total:i,count:s}=r[e][t];o[e][t]=s>0?Math.round(i/s*100)/100:0}return{rows:n,columns:i,matrix:o}}(eV,e,["name","description","website","phone","address"]);te(t),e9(e)}catch(e){console.error("Breakdown error:",e),ez("Error: ".concat(e.message))}finally{ti(!1)}},tS=async()=>{if(0!==e$.size){e6(!0),e4(null);try{let e=Array.from(e$.entries()).map(e=>{let[t,i]=e;return{id:t,...i}}),t=await fetch("/api/admin/data-quality/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:e})}),i=await t.json();if(!t.ok)return void e4({type:"error",message:i.error||"Failed to save changes"});i.success?(e4({type:"success",message:"Successfully updated ".concat(i.updated," park(s)")}),e0(new Map),e2(null),await tb(),setTimeout(()=>e4(null),3e3)):e4({type:"error",message:i.error||"Failed to save changes"})}catch(e){console.error("Save edits error:",e),e4({type:"error",message:"Error: ".concat(e.message)})}finally{e6(!1)}}},tw=async()=>{if(0===eH.size)return void alert("Please select parks to delete");if(confirm("Are you sure you want to delete ".concat(eH.size," park(s)? This cannot be undone."))){eZ(!0);try{let e=await fetch("/api/admin/data-quality",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",parkIds:Array.from(eH)})}),t=await e.json();if(!e.ok)return void ez(t.error||"Failed to delete parks");if(t.success){let e=t.deleted||eH.size;if(alert("Successfully deleted ".concat(e," park(s)")),eY(new Set),eK([]),eQ([]),e_(null),await new Promise(e=>setTimeout(e,100)),await tb(),await tj(),eW){let e=eW.toLowerCase(),t=eJ.filter(t=>t.name&&t.name.toLowerCase().includes(e)||t.city&&t.city.toLowerCase().includes(e)||t.county&&t.county.toLowerCase().includes(e)||t.state&&t.state.toLowerCase().includes(e)||t.agency&&t.agency.toLowerCase().includes(e)||t.data_source&&t.data_source.toLowerCase().includes(e));eQ(t)}}}catch(e){console.error("Delete parks error:",e),ez("Error: ".concat(e.message))}finally{eZ(!1)}}},tC=e=>{let t=new Set(eH);t.has(e)?t.delete(e):t.add(e),eY(t)},tA=()=>{eH.size===eV.length?eY(new Set):eY(new Set(eV.map(e=>e.id)))};return(0,s.jsxs)("div",{className:"admin-panel",children:[(0,s.jsxs)("div",{className:"admin-header",children:[(0,s.jsx)("h1",{children:"\uD83C\uDFDE️ Outside Insiders Admin Panel"}),(0,s.jsx)("p",{children:"Manage park data sources"})]}),(0,s.jsxs)("div",{className:"tab-navigation",children:[(0,s.jsx)("button",{className:"tab ".concat("scraper"===a?"active":""),onClick:()=>n("scraper"),children:"\uD83C\uDF10 Web Scraper"}),(0,s.jsx)("button",{className:"tab ".concat("api"===a?"active":""),onClick:()=>n("api"),children:"\uD83D\uDD0C API Manager"}),(0,s.jsx)("button",{className:"tab ".concat("upload"===a?"active":""),onClick:()=>n("upload"),children:"\uD83D\uDCC1 File Upload"}),(0,s.jsx)("button",{className:"tab ".concat("quality"===a?"active":""),onClick:()=>{n("quality"),eE||tj()},children:"\uD83D\uDD0D Data Quality"}),(0,s.jsx)("button",{className:"tab ".concat("geocode"===a?"active":""),onClick:()=>n("geocode"),children:"\uD83D\uDCCD Geocode Missing Coordinates"})]}),(0,s.jsxs)("div",{className:"tab-content",children:["scraper"===a&&(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h2",{children:"Web Scraper"}),(0,s.jsx)("p",{className:"section-description",children:"Scrape park data from websites. Priority: 40 (can't overwrite API or file data)"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"1️⃣ Select State:"}),(0,s.jsxs)("select",{value:v,onChange:e=>{let t=o.find(t=>t.name===e.target.value);tp(e.target.value,null==t?void 0:t.state_code)},disabled:F||j,children:[(0,s.jsx)("option",{value:"",children:"-- Select a State --"}),o.map(e=>(0,s.jsxs)("option",{value:e.name,children:[e.name," (",e.state_code,")"]},e.id))]})]}),v&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"2️⃣ What to Scrape:"}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,s.jsxs)("label",{style:{cursor:"pointer",padding:"5px"},children:[(0,s.jsx)("input",{type:"radio",value:"state",checked:"state"===D,onChange:e=>th(e.target.value),disabled:F}),(0,s.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,s.jsx)("strong",{children:"State Parks"})," - All state parks in ",v]})]}),(0,s.jsxs)("label",{style:{cursor:"pointer",padding:"5px",background:"#e8f4f8"},children:[(0,s.jsx)("input",{type:"radio",value:"metro",checked:"metro"===D,onChange:e=>th(e.target.value),disabled:F}),(0,s.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,s.jsx)("strong",{children:"Metro Area"})," - All counties + cities in a metro (bulk)"]})]}),(0,s.jsxs)("label",{style:{cursor:"pointer",padding:"5px"},children:[(0,s.jsx)("input",{type:"radio",value:"county",checked:"county"===D,onChange:e=>th(e.target.value),disabled:F}),(0,s.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,s.jsx)("strong",{children:"Single County"})," - One specific county"]})]}),(0,s.jsxs)("label",{style:{cursor:"pointer",padding:"5px"},children:[(0,s.jsx)("input",{type:"radio",value:"city",checked:"city"===D,onChange:e=>th(e.target.value),disabled:F}),(0,s.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,s.jsx)("strong",{children:"Single City"})," - One specific city"]})]})]})]}),"metro"===D&&v&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"3️⃣ Select Metro Area:"}),(0,s.jsxs)("select",{value:S,onChange:e=>tu(e.target.value),disabled:F||0===h.length,children:[(0,s.jsx)("option",{value:"",children:"-- Select a Metro Area --"}),h.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]}),S&&B&&(0,s.jsxs)("div",{style:{marginTop:"10px",padding:"10px",background:"#f0f7ed",borderRadius:"5px"},children:[(0,s.jsx)("strong",{children:"This metro includes:"}),(0,s.jsxs)("ul",{style:{margin:"5px 0"},children:[(0,s.jsxs)("li",{children:[B.counties," counties"]}),(0,s.jsxs)("li",{children:[B.cities," cities"]}),(0,s.jsx)("li",{children:(0,s.jsxs)("strong",{children:["Total: ",B.counties+B.cities," entities to scrape"]})})]})]})]}),"county"===D&&v&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"3️⃣ Select County:"}),(0,s.jsxs)("select",{value:C,onChange:e=>A(e.target.value),disabled:F||0===x.length,children:[(0,s.jsx)("option",{value:"",children:"-- Select a County --"}),x.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),"city"===D&&v&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"3️⃣ Select City:"}),(0,s.jsxs)("select",{value:N,onChange:e=>P(e.target.value),disabled:F||0===m.length,children:[(0,s.jsx)("option",{value:"",children:"-- Select a City --"}),m.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,s.jsx)("button",{onClick:tg,disabled:F||!v||"metro"===D&&!S||"county"===D&&!C||"city"===D&&!N,className:"primary-button",style:{marginTop:"20px"},children:F?"\uD83D\uDD04 Scraping...":"\uD83D\uDE80 Start Scrape"}),v&&(0,s.jsxs)("div",{style:{marginTop:"10px",padding:"15px",background:"#f8f9fa",borderRadius:"5px"},children:[(0,s.jsx)("strong",{children:"Ready to scrape:"}),"state"===D&&(0,s.jsxs)("p",{children:["All state parks in ",v]}),"metro"===D&&S&&(0,s.jsxs)("p",{children:[B.counties+B.cities," locations in ",S]}),"county"===D&&C&&(0,s.jsxs)("p",{children:["County parks in ",C,", ",v]}),"city"===D&&N&&(0,s.jsxs)("p",{children:["City parks in ",N,", ",v]})]}),R&&(0,s.jsxs)("div",{className:"alert alert-error",children:["❌ ",R]}),E&&(0,s.jsxs)("div",{className:"alert alert-success",children:["✅ Success! ",E.message,void 0!==E.parksFound&&(0,s.jsxs)("div",{className:"result-details",children:[(0,s.jsxs)("p",{children:["Parks found: ",E.parksFound]}),(0,s.jsxs)("p",{children:["Parks added: ",E.parksAdded||0]}),(0,s.jsxs)("p",{children:["Parks updated: ",E.parksUpdated||0]}),(0,s.jsxs)("p",{children:["Parks skipped (protected): ",E.parksSkipped||0]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#e8f4f8",borderRadius:"8px"},children:[(0,s.jsx)("h4",{children:"\uD83D\uDCCA Geographic Data Summary:"}),(0,s.jsxs)("ul",{style:{lineHeight:"1.8"},children:[(0,s.jsxs)("li",{children:["Total States: ",o.length]}),v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("li",{children:["Metros in ",v,": ",h.length]}),(0,s.jsxs)("li",{children:["Counties in ",v,": ",x.length]}),(0,s.jsxs)("li",{children:["Cities in ",v,": ",m.length]})]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:[(0,s.jsx)("h4",{children:"\uD83C\uDFAF Data Protection System:"}),(0,s.jsxs)("ul",{style:{lineHeight:"1.8"},children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Quality Score:"})," 0-100 points based on completeness"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Priority:"})," API (100) → Files (80) → Scrapes (40)"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Protection:"})," High-quality data never overwritten"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Updates:"})," Only if quality improves"]})]})]})]}),"api"===a&&(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h2",{children:"API Manager"}),(0,s.jsx)("p",{className:"section-description",children:"Connect to official park APIs. Priority: 90-100 (highest protection)"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"sync-source-type",children:"1️⃣ Select Source Type:"}),(0,s.jsxs)("select",{id:"sync-source-type",name:"syncSourceType",value:X,onChange:e=>Z(e.target.value),disabled:et,children:[(0,s.jsx)("option",{value:"NPS",children:"NPS (National Park Service) - Priority: 100"}),(0,s.jsx)("option",{value:"Recreation.gov",children:"Recreation.gov - Priority: 95"}),(0,s.jsx)("option",{value:"State Agency",children:"State Agency API - Priority: 90"}),(0,s.jsx)("option",{value:"Federal Agency",children:"Federal Agency API - Priority: 90"}),(0,s.jsx)("option",{value:"County Agency",children:"County Agency API - Priority: 85"}),(0,s.jsx)("option",{value:"City Agency",children:"City Agency API - Priority: 85"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"sync-api-key",children:"2️⃣ API Key (required for NPS and Recreation.gov):"}),(0,s.jsx)("input",{id:"sync-api-key",name:"syncApiKey",type:"password",value:$,onChange:e=>ee(e.target.value),placeholder:"Enter your API key",disabled:et,style:{width:"100%",padding:"8px",marginTop:"5px"}}),(0,s.jsxs)("p",{style:{marginTop:"5px",fontSize:"0.9rem",color:"#666"},children:[(0,s.jsx)("strong",{children:"For NPS:"})," Get your API key from ",(0,s.jsx)("a",{href:"https://www.nps.gov/subjects/developer/get-started.htm",target:"_blank",rel:"noopener noreferrer",children:"developer.nps.gov"}),(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"For Recreation.gov:"})," Get your API key from ",(0,s.jsx)("a",{href:"https://ridb.recreation.gov/",target:"_blank",rel:"noopener noreferrer",children:"ridb.recreation.gov"})]})]}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{onClick:tf,disabled:!X||et||("NPS"===X||"Recreation.gov"===X)&&!$.trim(),className:"primary-button",children:et?"⏳ Syncing...":"\uD83D\uDD0C Sync API"})}),ea&&(0,s.jsxs)("div",{className:"error-message",style:{marginTop:"20px",padding:"15px",background:"#fee",borderRadius:"8px",whiteSpace:"pre-wrap"},children:[(0,s.jsx)("strong",{children:"❌ Error:"}),(0,s.jsx)("div",{style:{marginTop:"10px",fontFamily:"monospace",fontSize:"0.9rem"},children:ea})]}),es&&(0,s.jsx)("div",{className:"success-message",style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:es.success?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"✅ Sync Complete!"}),(0,s.jsxs)("ul",{style:{textAlign:"left",display:"inline-block"},children:[void 0!==es.parksFound&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Found:"})," ",es.parksFound]}),void 0!==es.parksAdded&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Added:"})," ",es.parksAdded]}),void 0!==es.parksUpdated&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Updated:"})," ",es.parksUpdated]})]}),"Recreation.gov"===X&&es.parksFound>0&&(0,s.jsxs)("div",{style:{marginTop:"20px",padding:"15px",background:"#e8f4f8",borderRadius:"8px",border:"2px solid #007bff"},children:[(0,s.jsx)("h4",{style:{marginTop:0},children:"\uD83D\uDE80 Next Step: Enrich Facilities"}),(0,s.jsx)("p",{style:{marginBottom:"15px"},children:"Your facilities have been synced! Now enrich them with detailed data from the Recreation.gov API. This will run in the background and take approximately 2.5 hours for ~15,000 facilities."}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Batch Size (facilities per batch):"}),(0,s.jsx)("input",{type:"number",value:ex,onChange:e=>ey(e.target.value),min:"10",max:"100",disabled:ed,style:{width:"100px",padding:"5px"}}),(0,s.jsx)("span",{style:{marginLeft:"10px",fontSize:"0.9rem",color:"#666"},children:"(Default: 50, recommended for ~2.5 hour completion)"})]}),(0,s.jsx)("button",{onClick:ty,disabled:ed||!$.trim(),className:"primary-button",style:{width:"100%"},children:ed?"⏳ Starting Enrichment...":"\uD83D\uDE80 Start Background Enrichment"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"ℹ️ API Sync Status"}),(0,s.jsx)("p",{children:es.message||"API sync endpoint received your request"}),es.received&&(0,s.jsxs)("div",{style:{marginTop:"10px",padding:"10px",background:"#fff",borderRadius:"5px"},children:[(0,s.jsx)("strong",{children:"Received:"}),(0,s.jsxs)("ul",{style:{textAlign:"left",marginTop:"5px"},children:[(0,s.jsxs)("li",{children:["URL: ",es.received.apiUrl]}),(0,s.jsxs)("li",{children:["Source Type: ",es.received.sourceType]}),(0,s.jsxs)("li",{children:["Has API Key: ",es.received.hasApiKey?"Yes":"No"]})]})]}),es.note&&(0,s.jsx)("p",{style:{marginTop:"10px",fontStyle:"italic",color:"#666"},children:es.note})]})}),"Recreation.gov"===X&&(0,s.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#e8f4f8",borderRadius:"8px",border:"1px solid #007bff"},children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"\uD83D\uDD27 Recreation.gov Enrichment"}),(0,s.jsxs)("p",{style:{marginBottom:"15px"},children:["Enrich existing Recreation.gov facilities with detailed data. This process runs in the background and will update facilities with information from the facility","{id}"," endpoint."]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Batch Size (facilities per batch):"}),(0,s.jsx)("input",{type:"number",value:ex,onChange:e=>ey(e.target.value),min:"10",max:"100",disabled:ed,style:{width:"100px",padding:"5px"}}),(0,s.jsx)("span",{style:{marginLeft:"10px",fontSize:"0.9rem",color:"#666"},children:"(Default: 50)"})]}),(0,s.jsx)("button",{onClick:ty,disabled:ed||!$.trim(),className:"primary-button",children:ed?"⏳ Starting Enrichment...":"\uD83D\uDE80 Start Enrichment"}),eh&&(0,s.jsxs)("div",{className:"error-message",style:{marginTop:"15px",padding:"15px",background:"#fee",borderRadius:"8px"},children:[(0,s.jsx)("strong",{children:"❌ Error:"})," ",eh]}),ep&&(0,s.jsxs)("div",{className:"success-message",style:{marginTop:"15px",padding:"15px",background:"#f0f7ed",borderRadius:"8px"},children:[(0,s.jsx)("strong",{children:"✅ Enrichment Started!"}),(0,s.jsx)("p",{style:{marginTop:"10px",marginBottom:0},children:ep.message||"The enrichment process is running in the background."}),ep.eventId&&(0,s.jsxs)("p",{style:{marginTop:"5px",fontSize:"0.9rem",color:"#666"},children:["Event ID: ","string"==typeof ep.eventId?ep.eventId:(null==(t=ep.eventId)||null==(e=t.ids)?void 0:e[0])||"Unknown"]}),ep.details&&(0,s.jsx)("p",{style:{marginTop:"5px",fontSize:"0.85rem",color:"#666",fontStyle:"italic"},children:ep.details})]})]}),eo.length>0&&(0,s.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:[(0,s.jsx)("h4",{children:"\uD83D\uDCBE Saved API Configurations:"}),(0,s.jsx)("div",{style:{marginTop:"15px"},children:eo.map((e,t)=>(0,s.jsxs)("div",{style:{padding:"12px",marginBottom:"10px",background:"#fff",borderRadius:"6px",border:"1px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:e.sourceType}),(0,s.jsxs)("span",{style:{marginLeft:"10px",fontSize:"0.9rem",color:"#666"},children:["Last used: ",new Date(e.lastUsed).toLocaleDateString()]}),(0,s.jsxs)("div",{style:{marginTop:"5px",fontSize:"0.85rem",color:"#999"},children:["API Key: ",e.apiKey.substring(0,10),"..."]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>{Z(e.sourceType),ee(e.apiKey)},style:{marginRight:"8px",padding:"6px 12px",background:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Load"}),(0,s.jsx)("button",{onClick:()=>(e=>{try{let t=eo.filter(t=>t.sourceType!==e);localStorage.setItem("apiConfigs",JSON.stringify(t)),el(t)}catch(e){console.error("Error deleting API config:",e)}})(e.sourceType),style:{padding:"6px 12px",background:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Delete"})]})]},t))})]})]}),"geocode"===a&&(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h2",{children:"Geocode Missing Data"}),(0,s.jsx)("p",{className:"section-description",children:"Find parks missing coordinates or state and geocode them using Mapbox API or calculate from geometry."}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Geocode Type:"}),(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginRight:"20px"},children:[(0,s.jsx)("input",{type:"radio",value:"coordinates",checked:"coordinates"===eD,onChange:e=>eT(e.target.value)}),"Missing Coordinates"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("input",{type:"radio",value:"state",checked:"state"===eD,onChange:e=>eT(e.target.value)}),"Missing State (has coordinates)"]})]}),(0,s.jsx)("label",{children:"Process Options:"}),"coordinates"===eD&&(0,s.jsx)("div",{style:{marginBottom:"15px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:eN,onChange:e=>eP(e.target.checked)}),"Calculate centroids from geometry first (faster, free)"]})}),(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,s.jsx)("label",{children:"Limit (parks per batch):"}),(0,s.jsx)("input",{type:"number",value:eS,onChange:e=>ew(parseInt(e.target.value)||50),min:"1",max:"100",style:{width:"100px",padding:"8px"}}),(0,s.jsx)("span",{style:{marginLeft:"10px",color:"#666"},children:"Process 50 parks at a time recommended"})]}),(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,s.jsx)("label",{children:"Filter by State (optional):"}),(0,s.jsxs)("select",{value:eC,onChange:e=>eA(e.target.value),style:{width:"200px",padding:"8px"},children:[(0,s.jsx)("option",{value:"",children:"All States"}),o.map(e=>(0,s.jsxs)("option",{value:e.state_code,children:[e.state_code," - ",e.name]},e.id))]})]})]}),(0,s.jsx)("button",{onClick:tm,disabled:em,style:{padding:"12px 24px",fontSize:"16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:em?"not-allowed":"pointer",opacity:em?.6:1},children:em?"Processing...":"Start Geocoding"}),ej&&(0,s.jsxs)("div",{className:"success-message",style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"✅ Geocoding Complete!"}),(0,s.jsxs)("ul",{style:{textAlign:"left",display:"inline-block"},children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Processed:"})," ",ej.parksProcessed||0]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Fixed:"})," ",ej.parksFixed||0]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Failed:"})," ",ej.parksFailed||0]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Skipped:"})," ",ej.parksSkipped||0]})]}),ej.errors&&ej.errors.length>0&&(0,s.jsxs)("div",{style:{marginTop:"15px",padding:"10px",background:"#fff3cd",borderRadius:"5px"},children:[(0,s.jsx)("strong",{children:"Errors:"}),(0,s.jsx)("ul",{style:{textAlign:"left",marginTop:"5px"},children:ej.errors.slice(0,5).map((e,t)=>(0,s.jsxs)("li",{children:[e.park,": ",e.error]},t))})]})]}),ev&&(0,s.jsxs)("div",{className:"error-message",style:{marginTop:"20px",padding:"20px",background:"#fee",borderRadius:"8px"},children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"❌ Error:"}),(0,s.jsx)("pre",{style:{whiteSpace:"pre-wrap",textAlign:"left"},children:ev})]})]}),"upload"===a&&(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h2",{children:"File Upload"}),(0,s.jsx)("p",{className:"section-description",children:"Upload GeoJSON or Shapefile files. Priority: 80 (protected from scrapes). Files will be intelligently merged with existing data. Large files may take several minutes to process."}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"1️⃣ Select Source Type:"}),(0,s.jsxs)("select",{value:M,onChange:e=>O(e.target.value),disabled:J,children:[(0,s.jsx)("option",{value:"Public Federal",children:"Public Federal"}),(0,s.jsx)("option",{value:"Public State",children:"Public State"}),(0,s.jsx)("option",{value:"State Agency",children:"State Agency"}),(0,s.jsx)("option",{value:"County Agency",children:"County Agency"}),(0,s.jsx)("option",{value:"City Agency",children:"City Agency"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"2️⃣ Enter State (if not in file):"}),(0,s.jsx)("input",{type:"text",value:W,onChange:e=>G(e.target.value),placeholder:"e.g., Georgia, GA, or leave empty if file contains state",disabled:J,style:{width:"100%",padding:"8px",marginTop:"5px"}}),(0,s.jsxs)("p",{style:{marginTop:"5px",fontSize:"0.9rem",color:"#666"},children:[(0,s.jsx)("strong",{children:"Note:"})," Many shapefiles don't include state information. Enter the state here if your file doesn't have it."]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"3️⃣ Select File (GeoJSON, Shapefile, or ZIP):"}),(0,s.jsx)("input",{type:"file",accept:".geojson,.json,.shp,.zip",onChange:e=>{var t;q(null==(t=e.target.files)?void 0:t[0]),Y(null),Q(null)},disabled:J}),U&&(0,s.jsxs)("p",{style:{marginTop:"10px",color:"#666"},children:["Selected: ",(0,s.jsx)("strong",{children:U.name})," (",(U.size/1024/1024).toFixed(2)," MB)",U.size>0x3200000&&(0,s.jsx)("span",{style:{color:"#ff6b6b",marginLeft:"10px"},children:"⚠️ Large file - processing may take several minutes"})]}),(0,s.jsxs)("p",{style:{marginTop:"10px",fontSize:"0.9rem",color:"#666"},children:[(0,s.jsx)("strong",{children:"Supported formats:"})," GeoJSON (.geojson, .json), Shapefile (.shp), or ZIP archives containing shapefiles (.zip)"]})]}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{onClick:tx,disabled:!U||J,className:"primary-button",children:J?"⏳ Uploading...":"\uD83D\uDCE4 Upload File"})}),H&&(0,s.jsxs)("div",{className:"error-message",style:{marginTop:"20px"},children:[(0,s.jsx)("strong",{children:"Error:"})," ",H]}),V&&(0,s.jsxs)("div",{className:"success-message",style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"✅ Upload Complete!"}),(0,s.jsxs)("ul",{style:{textAlign:"left",display:"inline-block"},children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"File:"})," ",V.sourceName]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Source Type:"})," ",V.sourceType]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Found:"})," ",V.parksFound]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Added:"})," ",V.parksAdded]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Updated:"})," ",V.parksUpdated]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Skipped:"})," ",V.parksSkipped]})]}),V.errors&&V.errors.length>0&&(0,s.jsxs)("div",{style:{marginTop:"10px"},children:[(0,s.jsx)("strong",{children:"Errors:"}),(0,s.jsx)("ul",{style:{textAlign:"left"},children:V.errors.map((e,t)=>(0,s.jsxs)("li",{children:[e.park,": ",e.error]},t))})]})]})]}),"quality"===a&&(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h2",{children:"\uD83D\uDD0D Data Quality & Cleanup"}),(0,s.jsx)("p",{className:"section-description",children:"Search and filter parks, review data quality, and clean up your database"}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)("input",{type:"text",value:eW,onChange:e=>{let t=e.target.value;if(eG(t),!t.trim())return void tv();let i=t.toLowerCase().trim();eQ(eJ.filter(e=>{var t,s,r,a,n,o,l;return!!((null==(t=e.name)?void 0:t.toLowerCase().includes(i))||(null==(s=e.state)?void 0:s.toLowerCase().includes(i))||(null==(r=e.agency)?void 0:r.toLowerCase().includes(i))||(null==(a=e.county)?void 0:a.toLowerCase().includes(i))||(null==(n=e.city)?void 0:n.toLowerCase().includes(i))||(null==(o=e.address)?void 0:o.toLowerCase().includes(i))||(null==(l=e.description)?void 0:l.toLowerCase().includes(i)))}))},placeholder:"Search by city, metro, county, state, federal agency, or any keyword...",disabled:eF,style:{width:"100%",padding:"12px 45px 12px 15px",fontSize:"1rem",border:"2px solid #ddd",borderRadius:"8px",boxSizing:"border-box"}}),(0,s.jsx)("span",{style:{position:"absolute",right:"15px",top:"50%",transform:"translateY(-50%)",fontSize:"1.2rem"},children:"\uD83D\uDD0D"})]}),eJ.length>0&&(0,s.jsx)("p",{style:{marginTop:"8px",fontSize:"0.9rem",color:"#666"},children:eW?"Showing ".concat(eV.length," of ").concat(eJ.length," parks").concat(eW?' matching "'.concat(eW,'"'):""):"Showing ".concat(eV.length," of ").concat(eJ.length," parks")})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Filter by State:"}),(0,s.jsxs)("select",{value:eB.state,onChange:e=>{eL({...eB,state:e.target.value}),setTimeout(()=>tv(),0)},disabled:eF,children:[(0,s.jsx)("option",{value:"",children:"All States"}),o.map(e=>(0,s.jsxs)("option",{value:e.state_code,children:[e.state_code," - ",e.name]},e.id))]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Filter by Agency:"}),(0,s.jsxs)("select",{value:eB.agency,onChange:e=>{eL({...eB,agency:e.target.value}),setTimeout(()=>tv(),0)},disabled:eF,style:{width:"100%",padding:"8px"},children:[(0,s.jsx)("option",{value:"",children:"All Agencies"}),eU.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Filter by Data Source:"}),(0,s.jsxs)("select",{value:eB.dataSource,onChange:e=>{eL({...eB,dataSource:e.target.value}),setTimeout(()=>tv(),0)},disabled:eF,style:{width:"100%",padding:"8px"},children:[(0,s.jsx)("option",{value:"",children:"All Data Sources"}),eM.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsx)("div",{className:"form-group",style:{display:"flex",alignItems:"flex-end"},children:(0,s.jsx)("button",{onClick:tj,disabled:eF,className:"primary-button",children:eF?"⏳ Loading...":"\uD83D\uDCCA Analyze"})})]}),eR&&(0,s.jsxs)("div",{className:"error-message",style:{marginBottom:"20px"},children:["❌ ",eR]}),eJ.length>0&&(0,s.jsxs)("div",{style:{marginTop:"20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,s.jsxs)("h3",{children:["\uD83D\uDCCB Parks (",eV.length,")"]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e$.size>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:tS,disabled:e5,className:"primary-button",style:{background:"#4CAF50",fontSize:"0.9rem",padding:"6px 12px"},children:e5?"⏳ Saving...":"\uD83D\uDCBE Save Changes (".concat(e$.size,")")}),(0,s.jsx)("button",{onClick:()=>{e0(new Map),e2(null),e4(null)},disabled:e5,className:"primary-button",style:{background:"#666",fontSize:"0.9rem",padding:"6px 12px"},children:"Cancel"})]}),e8&&(0,s.jsx)("span",{style:{padding:"4px 12px",borderRadius:"4px",fontSize:"0.85rem",background:"success"===e8.type?"#d4edda":"#f8d7da",color:"success"===e8.type?"#155724":"#721c24"},children:e8.message}),(0,s.jsx)("button",{onClick:tA,className:"primary-button",style:{fontSize:"0.9rem",padding:"6px 12px"},disabled:0===eV.length,children:eH.size===eV.length&&eV.length>0?"Deselect All":"Select All"}),eH.size>0&&(0,s.jsx)("button",{onClick:tw,disabled:eX,className:"primary-button",style:{background:"#ff6b6b",fontSize:"0.9rem",padding:"6px 12px"},children:eX?"⏳ Deleting...":"\uD83D\uDDD1️ Delete (".concat(eH.size,")")})]})]}),0===eV.length?(0,s.jsxs)("div",{style:{padding:"40px",textAlign:"center",background:"#f9f9f9",borderRadius:"8px"},children:[(0,s.jsx)("p",{style:{color:"#666"},children:"No parks match your search criteria."}),(0,s.jsx)("button",{onClick:()=>{eG(""),eQ(eJ)},className:"primary-button",style:{marginTop:"15px",fontSize:"0.9rem"},children:"Clear Search"})]}):(0,s.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",background:"#fff"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{background:"#f5f5f5",position:"sticky",top:0,zIndex:10},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:(0,s.jsx)("input",{type:"checkbox",checked:eH.size===eV.length&&eV.length>0,onChange:tA})}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Name"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"State"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Agency"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Data Source"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Website"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Acres"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Quality"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Priority"})]})}),(0,s.jsx)("tbody",{children:eV.map((e,t)=>{var i,r,a,n,o;return(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #eee",background:t%2==0?"#fff":"#fafafa"},children:[(0,s.jsx)("td",{style:{padding:"12px"},children:(0,s.jsx)("input",{type:"checkbox",checked:eH.has(e.id),onChange:()=>tC(e.id)})}),(0,s.jsx)(u,{parkId:e.id,field:"name",value:e.name||"Unnamed",editedValue:null==(i=e$.get(e.id))?void 0:i.name,isEditing:(null==e1?void 0:e1.parkId)===e.id&&(null==e1?void 0:e1.field)==="name",onStartEdit:()=>e2({parkId:e.id,field:"name"}),onSave:t=>{let i=e$.get(e.id)||{};i.name=t,e0(new Map(e$).set(e.id,i)),e2(null)},onCancel:()=>e2(null)}),(0,s.jsx)(u,{parkId:e.id,field:"state",value:e.state||"N/A",editedValue:null==(r=e$.get(e.id))?void 0:r.state,isEditing:(null==e1?void 0:e1.parkId)===e.id&&(null==e1?void 0:e1.field)==="state",onStartEdit:()=>e2({parkId:e.id,field:"state"}),onSave:t=>{let i=e$.get(e.id)||{};i.state=t,e0(new Map(e$).set(e.id,i)),e2(null)},onCancel:()=>e2(null)}),(0,s.jsx)(u,{parkId:e.id,field:"agency",value:e.agency||"N/A",editedValue:null==(a=e$.get(e.id))?void 0:a.agency,isEditing:(null==e1?void 0:e1.parkId)===e.id&&(null==e1?void 0:e1.field)==="agency",onStartEdit:()=>e2({parkId:e.id,field:"agency"}),onSave:t=>{let i=e$.get(e.id)||{};i.agency=t,e0(new Map(e$).set(e.id,i)),e2(null)},onCancel:()=>e2(null)}),(0,s.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid #eee"},children:e.data_source||"N/A"}),(0,s.jsx)(u,{parkId:e.id,field:"website",value:e.website||"",editedValue:null==(n=e$.get(e.id))?void 0:n.website,isEditing:(null==e1?void 0:e1.parkId)===e.id&&(null==e1?void 0:e1.field)==="website",onStartEdit:()=>e2({parkId:e.id,field:"website"}),onSave:t=>{let i=e$.get(e.id)||{};i.website=t,e0(new Map(e$).set(e.id,i)),e2(null)},onCancel:()=>e2(null)}),(0,s.jsx)(u,{parkId:e.id,field:"acres",value:e.acres?e.acres.toFixed(2):"N/A",editedValue:null==(o=e$.get(e.id))?void 0:o.acres,isEditing:(null==e1?void 0:e1.parkId)===e.id&&(null==e1?void 0:e1.field)==="acres",onStartEdit:()=>e2({parkId:e.id,field:"acres"}),onSave:t=>{let i=e$.get(e.id)||{},s=parseFloat(t);i.acres=isNaN(s)?null:s,e0(new Map(e$).set(e.id,i)),e2(null)},onCancel:()=>e2(null),type:"number"}),(0,s.jsx)("td",{style:{padding:"12px"},children:(0,s.jsxs)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"500",background:e.qualityScore>=80?"#d4edda":e.qualityScore>=60?"#d1ecf1":e.qualityScore>=40?"#fff3cd":"#f8d7da",color:e.qualityScore>=80?"#155724":e.qualityScore>=60?"#0c5460":e.qualityScore>=40?"#856404":"#721c24"},children:[e.qualityScore||0,"/100"]})}),(0,s.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid #eee"},children:(0,s.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"500",background:e.data_source_priority>=90?"#d4edda":e.data_source_priority>=80?"#d1ecf1":e.data_source_priority>=60?"#fff3cd":"#f8d7da",color:e.data_source_priority>=90?"#155724":e.data_source_priority>=80?"#0c5460":e.data_source_priority>=60?"#856404":"#721c24"},children:e.data_source_priority||0})})]},e.id)})})]})})]}),0===eJ.length&&!eF&&(0,s.jsxs)("div",{style:{padding:"40px",textAlign:"center",background:"#f9f9f9",borderRadius:"8px",marginTop:"20px"},children:[(0,s.jsx)("p",{style:{color:"#666",marginBottom:"15px"},children:'Click "\uD83D\uDD04 Refresh Data" to load parks, or start typing in the search bar to search'}),(0,s.jsx)("button",{onClick:tb,disabled:eF,className:"primary-button",children:eF?"⏳ Loading...":"\uD83D\uDD04 Load Parks"})]}),eJ.length>0&&0===eV.length&&!eF&&(0,s.jsxs)("div",{style:{padding:"40px",textAlign:"center",background:"#f9f9f9",borderRadius:"8px",marginTop:"20px"},children:[(0,s.jsx)("p",{style:{color:"#666"},children:"No parks found matching your search/filter criteria"}),(0,s.jsx)("button",{onClick:()=>{eG(""),eL({state:"",agency:"",dataSource:""}),eQ(eJ)},className:"primary-button",style:{marginTop:"10px"},children:"Clear Filters"})]}),eV.length>0&&(0,s.jsxs)("div",{style:{marginTop:"40px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCA Quality Breakdown Matrix"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,s.jsx)("button",{onClick:()=>tk("state"),disabled:tt,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"state"===e3?"#4CAF50":"#666"},children:"State Parks"}),(0,s.jsx)("button",{onClick:()=>tk("agency"),disabled:tt,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"agency"===e3?"#4CAF50":"#666"},children:"Federal Agencies"}),(0,s.jsx)("button",{onClick:()=>tk("agency"),disabled:tt,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"agency"===e3?"#4CAF50":"#666"},children:"All Agencies"}),(0,s.jsx)("button",{onClick:()=>tk("county"),disabled:tt,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"county"===e3?"#4CAF50":"#666"},children:"Counties"}),(0,s.jsx)("button",{onClick:()=>tk("city"),disabled:tt,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"city"===e3?"#4CAF50":"#666"},children:"Cities"})]})]}),tt&&(0,s.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,s.jsx)("p",{children:"Loading breakdown..."})}),e7&&e7.rows&&e7.rows.length>0&&!tt&&(0,s.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",background:"#fff"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{background:"#f5f5f5",position:"sticky",top:0,zIndex:10},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",borderRight:"2px solid #ddd",fontWeight:"600",position:"sticky",left:0,background:"#f5f5f5"},children:e3.charAt(0).toUpperCase()+e3.slice(1)}),e7.columns&&e7.columns.map(e=>(0,s.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd",fontWeight:"600",minWidth:"100px"},children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})}),(0,s.jsx)("tbody",{children:e7.rows.map((e,t)=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #eee",background:t%2==0?"#fff":"#fafafa"},children:[(0,s.jsx)("td",{style:{padding:"12px",fontWeight:"500",borderRight:"2px solid #ddd",position:"sticky",left:0,background:t%2==0?"#fff":"#fafafa"},children:e}),e7.columns.map(t=>{var i;let r=(null==(i=e7.matrix[e])?void 0:i[t])||0,a=r>=80?"#d4edda":r>=60?"#d1ecf1":r>=40?"#fff3cd":"#f8d7da",n=r>=80?"#155724":r>=60?"#0c5460":r>=40?"#856404":"#721c24";return(0,s.jsx)("td",{style:{padding:"12px",textAlign:"center"},children:(0,s.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"500",background:a,color:n},children:r.toFixed(0)})},t)})]},e))})]})}),e7&&(!e7.rows||0===e7.rows.length)&&!tt&&(0,s.jsx)("div",{style:{padding:"20px",textAlign:"center",background:"#f9f9f9",borderRadius:"8px"},children:(0,s.jsx)("p",{style:{color:"#666"},children:"No breakdown data available. Click a filter button above to load data."})})]}),eE&&eE.likelyNonParks.length>0&&0===eV.length&&(0,s.jsxs)("div",{style:{marginTop:"30px"},children:[(0,s.jsxs)("h3",{children:["\uD83D\uDEAB Likely Non-Parks (",eE.likelyNonParks.length,")"]}),(0,s.jsx)("p",{style:{color:"#666",marginBottom:"15px"},children:"These parks may be offices, facilities, or other non-park locations"}),(0,s.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"8px"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{background:"#f5f5f5",position:"sticky",top:0},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:(0,s.jsx)("input",{type:"checkbox",checked:eH.size===eE.likelyNonParks.length&&eE.likelyNonParks.length>0,onChange:()=>{eH.size===eE.likelyNonParks.length?eY(new Set):eY(new Set(eE.likelyNonParks.map(e=>e.id)))}})}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Name"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"State"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Agency"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Reason"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Acres"})]})}),(0,s.jsx)("tbody",{children:eE.likelyNonParks.map(e=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,s.jsx)("td",{style:{padding:"10px"},children:(0,s.jsx)("input",{type:"checkbox",checked:eH.has(e.id),onChange:()=>tC(e.id)})}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.name}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.state}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.agency}),(0,s.jsx)("td",{style:{padding:"10px",fontSize:"0.9rem",color:"#666"},children:e.reason}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.acres?e.acres.toFixed(2):"N/A"})]},e.id))})]})}),eH.size>0&&(0,s.jsx)("div",{style:{marginTop:"15px"},children:(0,s.jsx)("button",{onClick:tw,disabled:eX,className:"primary-button",style:{background:"#ff6b6b"},children:eX?"⏳ Deleting...":"\uD83D\uDDD1️ Delete Selected (".concat(eH.size,")")})})]})]})]}),(0,s.jsxs)("div",{className:"admin-footer",children:[(0,s.jsx)("h4",{children:"\uD83D\uDEE1️ Data Priority System"}),(0,s.jsxs)("div",{className:"priority-info",children:[(0,s.jsxs)("div",{className:"priority-item",children:[(0,s.jsx)("span",{className:"priority-badge priority-100",children:"100"}),(0,s.jsx)("span",{children:"API Data - Never overwritten"})]}),(0,s.jsxs)("div",{className:"priority-item",children:[(0,s.jsx)("span",{className:"priority-badge priority-80",children:"80"}),(0,s.jsx)("span",{children:"Agency Files - Protected"})]}),(0,s.jsxs)("div",{className:"priority-item",children:[(0,s.jsx)("span",{className:"priority-badge priority-40",children:"40"}),(0,s.jsx)("span",{children:"Web Scrapes - Fills gaps"})]})]})]})]})}},4635:(e,t,i)=>{Promise.resolve().then(i.bind(i,4382))},6255:()=>{}},e=>{e.O(0,[332,993,441,255,358],()=>e(e.s=4635)),_N_E=e.O()}]);
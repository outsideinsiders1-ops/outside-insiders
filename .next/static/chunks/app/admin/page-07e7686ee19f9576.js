(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{4180:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(5155),i=r(2115),a=r(1993);r(6255);var n=r(5704);let l=n.env.NEXT_PUBLIC_SUPABASE_URL||"",o=n.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",c=l&&o?(0,a.UU)(l,o):null,d=function(){let[e,s]=(0,i.useState)("scraper"),[r,a]=(0,i.useState)([]),[n,l]=(0,i.useState)([]),[o,d]=(0,i.useState)([]),[p,u]=(0,i.useState)([]),[h,x]=(0,i.useState)(!0),[g,m]=(0,i.useState)(""),[y,j]=(0,i.useState)(""),[f,v]=(0,i.useState)(""),[S,b]=(0,i.useState)(""),[P,k]=(0,i.useState)("state"),[A,N]=(0,i.useState)(!1),[C,w]=(0,i.useState)(null),[T,_]=(0,i.useState)(null),[F,I]=(0,i.useState)({counties:0,cities:0}),[E,U]=(0,i.useState)(null),[D,q]=(0,i.useState)("State Agency"),[R,O]=(0,i.useState)(""),[L,z]=(0,i.useState)(!1),[M,B]=(0,i.useState)(null),[G,H]=(0,i.useState)(null),[J,K]=(0,i.useState)(""),[W,X]=(0,i.useState)("NPS"),[Y,Z]=(0,i.useState)(""),[Q,V]=(0,i.useState)(!1),[$,ee]=(0,i.useState)(null),[es,er]=(0,i.useState)(null);(0,i.useEffect)(()=>{et()},[]);let et=async()=>{if(!c){console.error("Supabase client not initialized"),x(!1);return}x(!0);try{let{data:e,error:s}=await c.from("geographic_entities").select("id, name, state_code").eq("entity_type","state").order("name");if(s)throw s;e&&e.length>0&&a(e)}catch(e){console.error("Error loading states:",e)}finally{x(!1)}},ei=async e=>{if(c)try{let{data:s,error:r}=await c.from("geographic_entities").select("id, name, metro_id").eq("entity_type","metro").eq("state_code",e).order("name");if(r)throw r;s&&s.length>0?l(s):l([])}catch(e){console.error("Error loading metros:",e),l([])}},ea=async e=>{if(c)try{let{data:s,error:r}=await c.from("geographic_entities").select("id, name").eq("entity_type","county").eq("state_code",e).order("name");if(r)throw r;s&&s.length>0?d(s):d([])}catch(e){console.error("Error loading counties:",e),d([])}},en=async e=>{if(c)try{let{data:s,error:r}=await c.from("geographic_entities").select("id, name").eq("entity_type","city").eq("state_code",e).order("name");if(r)throw r;s&&s.length>0?u(s):u([])}catch(e){console.error("Error loading cities:",e),u([])}},el=async(e,s)=>{try{if(!c)return;let{data:r}=await c.from("geographic_entities").select("id").eq("entity_type","county").eq("metro_id",e).eq("state_code",s),{data:t}=await c.from("geographic_entities").select("id").eq("entity_type","city").eq("metro_id",e).eq("state_code",s);I({counties:r?r.length:0,cities:t?t.length:0})}catch(e){console.error("Error loading metro details:",e),I({counties:0,cities:0})}},eo=async(e,s)=>{m(e),j(""),v(""),b(""),I({counties:0,cities:0}),s?(await ei(s),await ea(s),await en(s)):(l([]),d([]),u([]))},ec=async e=>{if(j(e),e){let s=n.find(s=>s.name===e),t=r.find(e=>e.name===g);s&&t&&await el(s.metro_id,t.state_code)}else I({counties:0,cities:0})},ed=e=>{k(e),j(""),v(""),b(""),I({counties:0,cities:0})},ep=async()=>{let e={type:P,state:g};if("state"===P){if(!g)return void _("Please select a state");e.name=g}else if("metro"===P){if(!y)return void _("Please select a metro area");let s=n.find(e=>e.name===y);e.name=y,e.metroId=null==s?void 0:s.metro_id}else if("county"===P){if(!f)return void _("Please select a county");e.name=f}else if("city"===P){if(!S)return void _("Please select a city");e.name=S}N(!0),_(null),w(null);try{let s=await fetch("/api/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await s.json();s.ok&&r.success?w(r):_(r.error||"Scraping failed")}catch(e){_("Error: ".concat(e.message))}finally{N(!1)}},eu=async()=>{if(!E)return void H("Please select a file");if(!c)return void H("Supabase client not initialized");z(!0),H(null),B(null);let e=null;try{let s="".concat(Date.now(),"-").concat(E.name);e="uploads/".concat(s),console.log("Uploading ".concat(E.name," (").concat((E.size/1024/1024).toFixed(2)," MB) to Supabase Storage..."));let{error:r}=await c.storage.from("park-uploads").upload(e,E,{cacheControl:"3600",upsert:!1});if(r){if(r.message.includes("Bucket not found")||r.message.includes("not found"))return void H('Storage bucket "park-uploads" not found. Please create it in Supabase Dashboard > Storage.');throw r}let{data:t}=c.storage.from("park-uploads").getPublicUrl(e),i=t.publicUrl;console.log("File uploaded to storage, processing...");let a=new FormData;a.append("fileUrl",i),a.append("sourceType",D),a.append("sourceName",E.name),a.append("filePath",e),R&&a.append("defaultState",R.trim());let n=new AbortController,l=setTimeout(()=>n.abort(),3e5),o=await fetch("/api/upload",{method:"POST",body:a,signal:n.signal});if(clearTimeout(l),!o.ok){let e="Upload failed with status ".concat(o.status);try{e=(await o.json()).error||e}catch(s){e=o.statusText||e}H(e);return}let d=await o.json();if(d.success){B(d),U(null);let e=document.querySelector('input[type="file"]');e&&(e.value="")}else if(H(d.error||"Upload failed"),e)try{await c.storage.from("park-uploads").remove([e])}catch(e){console.warn("Failed to cleanup storage file on error:",e)}}catch(s){if(console.error("Upload error:",s),e)try{await c.storage.from("park-uploads").remove([e])}catch(e){console.warn("Failed to cleanup storage file on error:",e)}"AbortError"===s.name?H("Upload timed out after 5 minutes. The file may be too large. Please try splitting it into smaller files or contact support."):H("Network error: ".concat(s.message,". Please check your connection and try again."))}finally{z(!1)}},eh=async()=>{if(!J.trim())return void er("Please enter an API URL");if(!W)return void er("Please select a source type");V(!0),er(null),ee(null);try{let e=await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiUrl:J.trim(),sourceType:W,apiKey:Y.trim()||void 0})}),s=await e.json();if(!e.ok){let r=s.error||"Sync failed with status ".concat(e.status);s.details&&(r+=": ".concat(s.details)),400===e.status?s.example&&(r+="\n\nExample: ".concat(JSON.stringify(s.example,null,2))):501===e.status?(r="API Sync is not yet implemented. This endpoint is coming soon.",s.note&&(r+="\n\n".concat(s.note)),s.nextSteps&&(r+="\n\nPlanned features:\n".concat(s.nextSteps.map((e,s)=>"".concat(s+1,". ").concat(e)).join("\n")))):500===e.status&&(r="Server error: ".concat(s.message||r),s.details),er(r);return}s.success?ee(s):er(s.error||"Sync failed")}catch(e){console.error("API Sync error:",e),"TypeError"===e.name&&e.message.includes("fetch")?er("Network error: Could not connect to server. Please check your connection and try again."):er("Error: ".concat(e.message,". Please try again."))}finally{V(!1)}};return(0,t.jsxs)("div",{className:"admin-panel",children:[(0,t.jsxs)("div",{className:"admin-header",children:[(0,t.jsx)("h1",{children:"\uD83C\uDFDE️ Outside Insiders Admin Panel"}),(0,t.jsx)("p",{children:"Manage park data sources"})]}),(0,t.jsxs)("div",{className:"tab-navigation",children:[(0,t.jsx)("button",{className:"tab ".concat("scraper"===e?"active":""),onClick:()=>s("scraper"),children:"\uD83C\uDF10 Web Scraper"}),(0,t.jsx)("button",{className:"tab ".concat("api"===e?"active":""),onClick:()=>s("api"),children:"\uD83D\uDD0C API Manager"}),(0,t.jsx)("button",{className:"tab ".concat("upload"===e?"active":""),onClick:()=>s("upload"),children:"\uD83D\uDCC1 File Upload"})]}),(0,t.jsxs)("div",{className:"tab-content",children:["scraper"===e&&(0,t.jsxs)("div",{className:"section",children:[(0,t.jsx)("h2",{children:"Web Scraper"}),(0,t.jsx)("p",{className:"section-description",children:"Scrape park data from websites. Priority: 40 (can't overwrite API or file data)"}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"1️⃣ Select State:"}),(0,t.jsxs)("select",{value:g,onChange:e=>{let s=r.find(s=>s.name===e.target.value);eo(e.target.value,null==s?void 0:s.state_code)},disabled:A||h,children:[(0,t.jsx)("option",{value:"",children:"-- Select a State --"}),r.map(e=>(0,t.jsxs)("option",{value:e.name,children:[e.name," (",e.state_code,")"]},e.id))]})]}),g&&(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"2️⃣ What to Scrape:"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,t.jsxs)("label",{style:{cursor:"pointer",padding:"5px"},children:[(0,t.jsx)("input",{type:"radio",value:"state",checked:"state"===P,onChange:e=>ed(e.target.value),disabled:A}),(0,t.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,t.jsx)("strong",{children:"State Parks"})," - All state parks in ",g]})]}),(0,t.jsxs)("label",{style:{cursor:"pointer",padding:"5px",background:"#e8f4f8"},children:[(0,t.jsx)("input",{type:"radio",value:"metro",checked:"metro"===P,onChange:e=>ed(e.target.value),disabled:A}),(0,t.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,t.jsx)("strong",{children:"Metro Area"})," - All counties + cities in a metro (bulk)"]})]}),(0,t.jsxs)("label",{style:{cursor:"pointer",padding:"5px"},children:[(0,t.jsx)("input",{type:"radio",value:"county",checked:"county"===P,onChange:e=>ed(e.target.value),disabled:A}),(0,t.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,t.jsx)("strong",{children:"Single County"})," - One specific county"]})]}),(0,t.jsxs)("label",{style:{cursor:"pointer",padding:"5px"},children:[(0,t.jsx)("input",{type:"radio",value:"city",checked:"city"===P,onChange:e=>ed(e.target.value),disabled:A}),(0,t.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,t.jsx)("strong",{children:"Single City"})," - One specific city"]})]})]})]}),"metro"===P&&g&&(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"3️⃣ Select Metro Area:"}),(0,t.jsxs)("select",{value:y,onChange:e=>ec(e.target.value),disabled:A||0===n.length,children:[(0,t.jsx)("option",{value:"",children:"-- Select a Metro Area --"}),n.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]}),y&&F&&(0,t.jsxs)("div",{style:{marginTop:"10px",padding:"10px",background:"#f0f7ed",borderRadius:"5px"},children:[(0,t.jsx)("strong",{children:"This metro includes:"}),(0,t.jsxs)("ul",{style:{margin:"5px 0"},children:[(0,t.jsxs)("li",{children:[F.counties," counties"]}),(0,t.jsxs)("li",{children:[F.cities," cities"]}),(0,t.jsx)("li",{children:(0,t.jsxs)("strong",{children:["Total: ",F.counties+F.cities," entities to scrape"]})})]})]})]}),"county"===P&&g&&(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"3️⃣ Select County:"}),(0,t.jsxs)("select",{value:f,onChange:e=>v(e.target.value),disabled:A||0===o.length,children:[(0,t.jsx)("option",{value:"",children:"-- Select a County --"}),o.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),"city"===P&&g&&(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"3️⃣ Select City:"}),(0,t.jsxs)("select",{value:S,onChange:e=>b(e.target.value),disabled:A||0===p.length,children:[(0,t.jsx)("option",{value:"",children:"-- Select a City --"}),p.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,t.jsx)("button",{onClick:ep,disabled:A||!g||"metro"===P&&!y||"county"===P&&!f||"city"===P&&!S,className:"primary-button",style:{marginTop:"20px"},children:A?"\uD83D\uDD04 Scraping...":"\uD83D\uDE80 Start Scrape"}),g&&(0,t.jsxs)("div",{style:{marginTop:"10px",padding:"15px",background:"#f8f9fa",borderRadius:"5px"},children:[(0,t.jsx)("strong",{children:"Ready to scrape:"}),"state"===P&&(0,t.jsxs)("p",{children:["All state parks in ",g]}),"metro"===P&&y&&(0,t.jsxs)("p",{children:[F.counties+F.cities," locations in ",y]}),"county"===P&&f&&(0,t.jsxs)("p",{children:["County parks in ",f,", ",g]}),"city"===P&&S&&(0,t.jsxs)("p",{children:["City parks in ",S,", ",g]})]}),T&&(0,t.jsxs)("div",{className:"alert alert-error",children:["❌ ",T]}),C&&(0,t.jsxs)("div",{className:"alert alert-success",children:["✅ Success! ",C.message,void 0!==C.parksFound&&(0,t.jsxs)("div",{className:"result-details",children:[(0,t.jsxs)("p",{children:["Parks found: ",C.parksFound]}),(0,t.jsxs)("p",{children:["Parks added: ",C.parksAdded||0]}),(0,t.jsxs)("p",{children:["Parks updated: ",C.parksUpdated||0]}),(0,t.jsxs)("p",{children:["Parks skipped (protected): ",C.parksSkipped||0]})]})]}),(0,t.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#e8f4f8",borderRadius:"8px"},children:[(0,t.jsx)("h4",{children:"\uD83D\uDCCA Geographic Data Summary:"}),(0,t.jsxs)("ul",{style:{lineHeight:"1.8"},children:[(0,t.jsxs)("li",{children:["Total States: ",r.length]}),g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("li",{children:["Metros in ",g,": ",n.length]}),(0,t.jsxs)("li",{children:["Counties in ",g,": ",o.length]}),(0,t.jsxs)("li",{children:["Cities in ",g,": ",p.length]})]})]})]}),(0,t.jsxs)("div",{style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:[(0,t.jsx)("h4",{children:"\uD83C\uDFAF Data Protection System:"}),(0,t.jsxs)("ul",{style:{lineHeight:"1.8"},children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Quality Score:"})," 0-100 points based on completeness"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Priority:"})," API (100) → Files (80) → Scrapes (40)"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Protection:"})," High-quality data never overwritten"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Updates:"})," Only if quality improves"]})]})]})]}),"api"===e&&(0,t.jsxs)("div",{className:"section",children:[(0,t.jsx)("h2",{children:"API Manager"}),(0,t.jsx)("p",{className:"section-description",children:"Connect to official park APIs. Priority: 90-100 (highest protection)"}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"1️⃣ Select Source Type:"}),(0,t.jsxs)("select",{value:W,onChange:e=>X(e.target.value),disabled:Q,children:[(0,t.jsx)("option",{value:"NPS",children:"NPS (National Park Service) - Priority: 100"}),(0,t.jsx)("option",{value:"Recreation.gov",children:"Recreation.gov - Priority: 95"}),(0,t.jsx)("option",{value:"State Agency",children:"State Agency API - Priority: 90"}),(0,t.jsx)("option",{value:"Federal Agency",children:"Federal Agency API - Priority: 90"}),(0,t.jsx)("option",{value:"County Agency",children:"County Agency API - Priority: 85"}),(0,t.jsx)("option",{value:"City Agency",children:"City Agency API - Priority: 85"})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"2️⃣ Enter API URL:"}),(0,t.jsx)("input",{type:"url",value:J,onChange:e=>{K(e.target.value),er(null)},placeholder:"https://api.nps.gov/api/v1/parks",disabled:Q,style:{width:"100%",padding:"8px",marginTop:"5px",fontFamily:"monospace"}}),(0,t.jsxs)("p",{style:{marginTop:"5px",fontSize:"0.9rem",color:"#666"},children:[(0,t.jsx)("strong",{children:"Examples:"}),(0,t.jsx)("br",{}),"• NPS: ",(0,t.jsx)("code",{children:"https://api.nps.gov/api/v1/parks"}),(0,t.jsx)("br",{}),"• Recreation.gov: ",(0,t.jsx)("code",{children:"https://ridb.recreation.gov/api/v1/facilities"}),(0,t.jsx)("br",{}),"• State APIs: Check your state's park agency website"]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"3️⃣ API Key (if required):"}),(0,t.jsx)("input",{type:"password",value:Y,onChange:e=>Z(e.target.value),placeholder:"Enter API key if required by the API",disabled:Q,style:{width:"100%",padding:"8px",marginTop:"5px"}}),(0,t.jsxs)("p",{style:{marginTop:"5px",fontSize:"0.9rem",color:"#666"},children:[(0,t.jsx)("strong",{children:"Note:"})," Some APIs require authentication. Enter your API key here if needed."]})]}),(0,t.jsx)("div",{className:"form-group",children:(0,t.jsx)("button",{onClick:eh,disabled:!J.trim()||!W||Q,className:"primary-button",children:Q?"⏳ Syncing...":"\uD83D\uDD0C Sync API"})}),es&&(0,t.jsxs)("div",{className:"error-message",style:{marginTop:"20px",padding:"15px",background:"#fee",borderRadius:"8px",whiteSpace:"pre-wrap"},children:[(0,t.jsx)("strong",{children:"❌ Error:"}),(0,t.jsx)("div",{style:{marginTop:"10px",fontFamily:"monospace",fontSize:"0.9rem"},children:es})]}),$&&(0,t.jsx)("div",{className:"success-message",style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:$.success?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{style:{marginTop:0},children:"✅ Sync Complete!"}),(0,t.jsxs)("ul",{style:{textAlign:"left",display:"inline-block"},children:[void 0!==$.parksFound&&(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Parks Found:"})," ",$.parksFound]}),void 0!==$.parksAdded&&(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Parks Added:"})," ",$.parksAdded]}),void 0!==$.parksUpdated&&(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Parks Updated:"})," ",$.parksUpdated]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{style:{marginTop:0},children:"ℹ️ API Sync Status"}),(0,t.jsx)("p",{children:$.message||"API sync endpoint received your request"}),$.received&&(0,t.jsxs)("div",{style:{marginTop:"10px",padding:"10px",background:"#fff",borderRadius:"5px"},children:[(0,t.jsx)("strong",{children:"Received:"}),(0,t.jsxs)("ul",{style:{textAlign:"left",marginTop:"5px"},children:[(0,t.jsxs)("li",{children:["URL: ",$.received.apiUrl]}),(0,t.jsxs)("li",{children:["Source Type: ",$.received.sourceType]}),(0,t.jsxs)("li",{children:["Has API Key: ",$.received.hasApiKey?"Yes":"No"]})]})]}),$.note&&(0,t.jsx)("p",{style:{marginTop:"10px",fontStyle:"italic",color:"#666"},children:$.note})]})}),(0,t.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#e8f4f8",borderRadius:"8px"},children:[(0,t.jsx)("h4",{children:"\uD83D\uDCCB API Sync Features (Coming Soon):"}),(0,t.jsxs)("ul",{style:{lineHeight:"1.8",textAlign:"left"},children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"LLM-Powered Intelligence:"})," Automatically analyzes API structure and suggests optimal endpoints"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Smart Field Mapping:"})," Maps API response fields to park schema automatically"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Deduplication:"})," Intelligently merges with existing park data"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Priority Protection:"})," API data has highest priority (90-100) and won't be overwritten"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Error Recovery:"})," Handles API errors gracefully and provides detailed feedback"]})]})]})]}),"upload"===e&&(0,t.jsxs)("div",{className:"section",children:[(0,t.jsx)("h2",{children:"File Upload"}),(0,t.jsx)("p",{className:"section-description",children:"Upload GeoJSON or Shapefile files. Priority: 80 (protected from scrapes). Files will be intelligently merged with existing data. Large files may take several minutes to process."}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"1️⃣ Select Source Type:"}),(0,t.jsxs)("select",{value:D,onChange:e=>q(e.target.value),disabled:L,children:[(0,t.jsx)("option",{value:"Public Federal",children:"Public Federal"}),(0,t.jsx)("option",{value:"Public State",children:"Public State"}),(0,t.jsx)("option",{value:"State Agency",children:"State Agency"}),(0,t.jsx)("option",{value:"County Agency",children:"County Agency"}),(0,t.jsx)("option",{value:"City Agency",children:"City Agency"})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"2️⃣ Enter State (if not in file):"}),(0,t.jsx)("input",{type:"text",value:R,onChange:e=>O(e.target.value),placeholder:"e.g., Georgia, GA, or leave empty if file contains state",disabled:L,style:{width:"100%",padding:"8px",marginTop:"5px"}}),(0,t.jsxs)("p",{style:{marginTop:"5px",fontSize:"0.9rem",color:"#666"},children:[(0,t.jsx)("strong",{children:"Note:"})," Many shapefiles don't include state information. Enter the state here if your file doesn't have it."]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"3️⃣ Select File (GeoJSON, Shapefile, or ZIP):"}),(0,t.jsx)("input",{type:"file",accept:".geojson,.json,.shp,.zip",onChange:e=>{var s;U(null==(s=e.target.files)?void 0:s[0]),H(null),B(null)},disabled:L}),E&&(0,t.jsxs)("p",{style:{marginTop:"10px",color:"#666"},children:["Selected: ",(0,t.jsx)("strong",{children:E.name})," (",(E.size/1024/1024).toFixed(2)," MB)",E.size>0x3200000&&(0,t.jsx)("span",{style:{color:"#ff6b6b",marginLeft:"10px"},children:"⚠️ Large file - processing may take several minutes"})]}),(0,t.jsxs)("p",{style:{marginTop:"10px",fontSize:"0.9rem",color:"#666"},children:[(0,t.jsx)("strong",{children:"Supported formats:"})," GeoJSON (.geojson, .json), Shapefile (.shp), or ZIP archives containing shapefiles (.zip)"]})]}),(0,t.jsx)("div",{className:"form-group",children:(0,t.jsx)("button",{onClick:eu,disabled:!E||L,className:"primary-button",children:L?"⏳ Uploading...":"\uD83D\uDCE4 Upload File"})}),G&&(0,t.jsxs)("div",{className:"error-message",style:{marginTop:"20px"},children:[(0,t.jsx)("strong",{children:"Error:"})," ",G]}),M&&(0,t.jsxs)("div",{className:"success-message",style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:[(0,t.jsx)("h3",{style:{marginTop:0},children:"✅ Upload Complete!"}),(0,t.jsxs)("ul",{style:{textAlign:"left",display:"inline-block"},children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"File:"})," ",M.sourceName]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Source Type:"})," ",M.sourceType]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Parks Found:"})," ",M.parksFound]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Parks Added:"})," ",M.parksAdded]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Parks Updated:"})," ",M.parksUpdated]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Parks Skipped:"})," ",M.parksSkipped]})]}),M.errors&&M.errors.length>0&&(0,t.jsxs)("div",{style:{marginTop:"10px"},children:[(0,t.jsx)("strong",{children:"Errors:"}),(0,t.jsx)("ul",{style:{textAlign:"left"},children:M.errors.map((e,s)=>(0,t.jsxs)("li",{children:[e.park,": ",e.error]},s))})]})]})]})]}),(0,t.jsxs)("div",{className:"admin-footer",children:[(0,t.jsx)("h4",{children:"\uD83D\uDEE1️ Data Priority System"}),(0,t.jsxs)("div",{className:"priority-info",children:[(0,t.jsxs)("div",{className:"priority-item",children:[(0,t.jsx)("span",{className:"priority-badge priority-100",children:"100"}),(0,t.jsx)("span",{children:"API Data - Never overwritten"})]}),(0,t.jsxs)("div",{className:"priority-item",children:[(0,t.jsx)("span",{className:"priority-badge priority-80",children:"80"}),(0,t.jsx)("span",{children:"Agency Files - Protected"})]}),(0,t.jsxs)("div",{className:"priority-item",children:[(0,t.jsx)("span",{className:"priority-badge priority-40",children:"40"}),(0,t.jsx)("span",{children:"Web Scrapes - Fills gaps"})]})]})]})]})}},4635:(e,s,r)=>{Promise.resolve().then(r.bind(r,4180))},6255:()=>{}},e=>{e.O(0,[332,993,441,255,358],()=>e(e.s=4635)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{4180:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(5155),r=a(2115),i=a(1993);a(6255);var n=a(5704);let l=n.env.NEXT_PUBLIC_SUPABASE_URL||"",d=n.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",o=l&&d?(0,i.UU)(l,d):null;function c(e){let{value:t,editedValue:a,isEditing:i,onStartEdit:n,onSave:l,onCancel:d}=e,[o,c]=(0,r.useState)(void 0!==a?a:t);if((0,r.useEffect)(()=>{void 0!==a?c(a):c(t)},[a,t]),i)return(0,s.jsx)("td",{style:{padding:"12px"},children:(0,s.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key?l(o):"Escape"===e.key&&(c(void 0!==a?a:t),d())},onBlur:()=>{o!==t&&o!==a?l(o):d()},autoFocus:!0,style:{width:"100%",padding:"4px 8px",border:"2px solid #4CAF50",borderRadius:"4px",fontSize:"0.9rem"}})});let p=void 0!==a&&a!==t;return(0,s.jsxs)("td",{style:{padding:"12px",cursor:"pointer",background:p?"#fff9e6":"transparent",position:"relative"},onClick:n,title:"Click to edit",children:[void 0!==a?a:t,p&&(0,s.jsx)("span",{style:{position:"absolute",right:"4px",top:"4px",fontSize:"0.7rem",color:"#ff9800"},children:"●"})]})}let p=function(){let[e,t]=(0,r.useState)("scraper"),[a,i]=(0,r.useState)([]),[n,l]=(0,r.useState)([]),[d,p]=(0,r.useState)([]),[u,x]=(0,r.useState)([]),[h,g]=(0,r.useState)(!0),[y,m]=(0,r.useState)(""),[f,j]=(0,r.useState)(""),[b,v]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[w,A]=(0,r.useState)("state"),[C,P]=(0,r.useState)(!1),[N,D]=(0,r.useState)(null),[F,T]=(0,r.useState)(null),[E,I]=(0,r.useState)({counties:0,cities:0}),[z,_]=(0,r.useState)(null),[U,B]=(0,r.useState)("State Agency"),[q,R]=(0,r.useState)(""),[L,M]=(0,r.useState)(!1),[O,W]=(0,r.useState)(null),[K,H]=(0,r.useState)(null),[J,G]=(0,r.useState)(""),[Q,Y]=(0,r.useState)("NPS"),[V,X]=(0,r.useState)(""),[Z,$]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(null),[ea,es]=(0,r.useState)(null),[er,ei]=(0,r.useState)(!1),[en,el]=(0,r.useState)(null),[ed,eo]=(0,r.useState)(null),[ec,ep]=(0,r.useState)({state:"",agency:"",dataSource:""}),[eu,ex]=(0,r.useState)([]),[eh,eg]=(0,r.useState)([]),[ey,em]=(0,r.useState)(""),[ef,ej]=(0,r.useState)([]),[eb,ev]=(0,r.useState)([]),[eS,ek]=(0,r.useState)(new Set),[ew,eA]=(0,r.useState)(!1),[eC,eP]=(0,r.useState)(new Map),[eN,eD]=(0,r.useState)(null),[eF,eT]=(0,r.useState)(!1),[eE,eI]=(0,r.useState)(null),[ez,e_]=(0,r.useState)("agency"),[eU,eB]=(0,r.useState)(null),[eq,eR]=(0,r.useState)(!1);(0,r.useEffect)(()=>{eO(),eL(),eM()},[]);let eL=async()=>{if(o)try{let{data:e,error:t}=await o.from("parks").select("agency").not("agency","is",null);if(t)throw t;let a=[...new Set(e.map(e=>e.agency).filter(Boolean))].sort();ex(a)}catch(e){console.error("Error loading agencies:",e)}},eM=async()=>{if(o)try{let{data:e,error:t}=await o.from("parks").select("data_source").not("data_source","is",null);if(t)throw t;let a=[...new Set(e.map(e=>e.data_source).filter(Boolean))].sort();eg(a)}catch(e){console.error("Error loading data sources:",e)}},eO=async()=>{if(!o){console.error("Supabase client not initialized"),g(!1);return}g(!0);try{let{data:e,error:t}=await o.from("geographic_entities").select("id, name, state_code").eq("entity_type","state").order("name");if(t)throw t;e&&e.length>0&&i(e)}catch(e){console.error("Error loading states:",e)}finally{g(!1)}},eW=async e=>{if(o)try{let{data:t,error:a}=await o.from("geographic_entities").select("id, name, metro_id").eq("entity_type","metro").eq("state_code",e).order("name");if(a)throw a;t&&t.length>0?l(t):l([])}catch(e){console.error("Error loading metros:",e),l([])}},eK=async e=>{if(o)try{let{data:t,error:a}=await o.from("geographic_entities").select("id, name").eq("entity_type","county").eq("state_code",e).order("name");if(a)throw a;t&&t.length>0?p(t):p([])}catch(e){console.error("Error loading counties:",e),p([])}},eH=async e=>{if(o)try{let{data:t,error:a}=await o.from("geographic_entities").select("id, name").eq("entity_type","city").eq("state_code",e).order("name");if(a)throw a;t&&t.length>0?x(t):x([])}catch(e){console.error("Error loading cities:",e),x([])}},eJ=async(e,t)=>{try{if(!o)return;let{data:a}=await o.from("geographic_entities").select("id").eq("entity_type","county").eq("metro_id",e).eq("state_code",t),{data:s}=await o.from("geographic_entities").select("id").eq("entity_type","city").eq("metro_id",e).eq("state_code",t);I({counties:a?a.length:0,cities:s?s.length:0})}catch(e){console.error("Error loading metro details:",e),I({counties:0,cities:0})}},eG=async(e,t)=>{m(e),j(""),v(""),k(""),I({counties:0,cities:0}),t?(await eW(t),await eK(t),await eH(t)):(l([]),p([]),x([]))},eQ=async e=>{if(j(e),e){let t=n.find(t=>t.name===e),s=a.find(e=>e.name===y);t&&s&&await eJ(t.metro_id,s.state_code)}else I({counties:0,cities:0})},eY=e=>{A(e),j(""),v(""),k(""),I({counties:0,cities:0})},eV=async()=>{let e={type:w,state:y};if("state"===w){if(!y)return void T("Please select a state");e.name=y}else if("metro"===w){if(!f)return void T("Please select a metro area");let t=n.find(e=>e.name===f);e.name=f,e.metroId=null==t?void 0:t.metro_id}else if("county"===w){if(!b)return void T("Please select a county");e.name=b}else if("city"===w){if(!S)return void T("Please select a city");e.name=S}P(!0),T(null),D(null);try{let t=await fetch("/api/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();t.ok&&a.success?D(a):T(a.error||"Scraping failed")}catch(e){T("Error: ".concat(e.message))}finally{P(!1)}},eX=async()=>{if(!z)return void H("Please select a file");if(!o)return void H("Supabase client not initialized");M(!0),H(null),W(null);let e=null,t=z.size/1024/1024,a=t>50;try{let s="".concat(Date.now(),"-").concat(z.name);if(e="uploads/".concat(s),a){console.log("Uploading ".concat(t.toFixed(2)," MB file in chunks to Supabase Storage..."));let{uploadFileInChunks:a}=await Promise.resolve().then(function(){var e=Error("Cannot find module '../../../lib/utils/chunked-upload.js'");throw e.code="MODULE_NOT_FOUND",e}),s=await a(o,z,"park-uploads",e,{chunkSize:0x1400000,onProgress:e=>{console.log("Upload progress: ".concat(e.percentage,"% (").concat(e.chunkNumber,"/").concat(e.totalChunks," chunks, ").concat((e.bytesUploaded/1024/1024).toFixed(2)," MB)"))}});if(!s.success)throw Error(s.error||"Chunked upload failed")}else{console.log("Uploading ".concat(t.toFixed(2)," MB to Supabase Storage..."));let{error:a}=await o.storage.from("park-uploads").upload(e,z,{cacheControl:"3600",upsert:!1});if(a){if(a.message.includes("Bucket not found")||a.message.includes("not found"))return void H('Storage bucket "park-uploads" not found. Please create it in Supabase Dashboard > Storage.');throw a}}let{data:r}=o.storage.from("park-uploads").getPublicUrl(e),i=r.publicUrl;console.log("File uploaded to storage, processing...");let n=new FormData;n.append("fileUrl",i),n.append("sourceType",U),n.append("sourceName",z.name),n.append("filePath",e),q&&n.append("defaultState",q.trim());let l=new AbortController,d=setTimeout(()=>l.abort(),3e5),c=await fetch("/api/upload",{method:"POST",body:n,signal:l.signal});if(clearTimeout(d),!c.ok){let e="Upload failed with status ".concat(c.status);try{e=(await c.json()).error||e}catch(t){e=c.statusText||e}H(e);return}let p=await c.json();if(p.success){W(p),_(null);let e=document.querySelector('input[type="file"]');e&&(e.value="")}else if(H(p.error||"Upload failed"),e)try{await o.storage.from("park-uploads").remove([e])}catch(e){console.warn("Failed to cleanup storage file on error:",e)}}catch(t){if(console.error("Upload error:",t),e)try{await o.storage.from("park-uploads").remove([e])}catch(e){console.warn("Failed to cleanup storage file on error:",e)}"AbortError"===t.name?H("Upload timed out after 5 minutes. The file may be too large. Please try splitting it into smaller files or contact support."):H("Network error: ".concat(t.message,". Please check your connection and try again."))}finally{M(!1)}},eZ=async()=>{if(!J.trim())return void es("Please enter an API URL");if(!Q)return void es("Please select a source type");$(!0),es(null),et(null);try{let e=await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiUrl:J.trim(),sourceType:Q,apiKey:V.trim()||void 0})}),t=await e.json();if(et(null),es(null),!e.ok){let a=t.error||"Sync failed with status ".concat(e.status);if(t.details&&(a+=": ".concat(t.details)),400===e.status)t.example&&(a+="\n\nExample: ".concat(JSON.stringify(t.example,null,2)));else if(501===e.status){a="API Sync is not yet implemented. This endpoint is coming soon.",t.note&&(a+="\n\n".concat(t.note)),t.nextSteps&&(a+="\n\nPlanned features:\n".concat(t.nextSteps.map((e,t)=>"".concat(t+1,". ").concat(e)).join("\n"))),es(a);return}else 500===e.status&&(a="Server error: ".concat(t.message||a),t.details);es(a);return}!0===t.success?et(t):es(t.error||t.message||"Sync failed")}catch(e){console.error("API Sync error:",e),"TypeError"===e.name&&e.message.includes("fetch")?es("Network error: Could not connect to server. Please check your connection and try again."):es("Error: ".concat(e.message,". Please try again."))}finally{$(!1)}},e$=async()=>{ei(!0),eo(null);try{let e=new URLSearchParams;ec.state&&e.append("state",ec.state),ec.agency&&e.append("agency",ec.agency),ec.dataSource&&e.append("data_source",ec.dataSource);let t=await fetch("/api/admin/data-quality?".concat(e.toString())),a=await t.json();if(!t.ok)return void eo(a.error||"Failed to load quality analysis");a.success?(el(a.analysis),await e0()):eo(a.error||"Failed to load quality analysis")}catch(e){console.error("Quality analysis error:",e),eo("Error: ".concat(e.message))}finally{ei(!1)}},e0=async()=>{try{let e=new URLSearchParams;ec.state&&e.append("state",ec.state),ec.agency&&e.append("agency",ec.agency),ec.dataSource&&e.append("data_source",ec.dataSource),e.append("action","filter");let t=await fetch("/api/admin/data-quality?".concat(e.toString())),a=await t.json();a.success&&a.filteredParks&&(ej(a.filteredParks),ey?e1(ey,a.filteredParks):ev(a.filteredParks))}catch(e){console.error("Load parks error:",e)}},e1=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ef;if(!e.trim())return void ev(t);let a=e.toLowerCase().trim();ev(t.filter(e=>{var t,s,r,i;if((null==(t=e.name)?void 0:t.toLowerCase().includes(a))||(null==(s=e.state)?void 0:s.toLowerCase().includes(a))||(null==(r=e.agency)?void 0:r.toLowerCase().includes(a))||(null==(i=e.county)?void 0:i.toLowerCase().includes(a))||["city","metro","urban","municipal"].some(e=>a.includes(e)))return!0;let n=["federal","nps","blm","usfs","fws","national"];return!!(n.some(e=>a.includes(e))&&e.agency&&n.some(t=>e.agency.toLowerCase().includes(t)))}))},e2=async e=>{let t=e.target.value;if(em(t),!t.trim()){ev([]),ej([]);return}ei(!0);try{let e=new URLSearchParams;e.append("action","filter"),e.append("nameKeywords",t);let a=await fetch("/api/admin/data-quality?".concat(e.toString())),s=await a.json();s.success&&s.filteredParks?(ej(s.filteredParks),ev(s.filteredParks)):(ev([]),ej([]))}catch(e){console.error("Search error:",e),ev([]),ej([])}finally{ei(!1)}},e6=async e=>{if(!ef||0===ef.length)return void eo("Please load parks first");eR(!0);try{let t=new URLSearchParams;ec.state&&t.append("state",ec.state),ec.agency&&t.append("agency",ec.agency),ec.dataSource&&t.append("data_source",ec.dataSource),t.append("action","breakdown"),t.append("groupBy",e);let a=await fetch("/api/admin/data-quality?".concat(t.toString())),s=await a.json();if(!a.ok)return void eo(s.error||"Failed to load quality breakdown");s.success?(eB(s.breakdown),e_(e)):eo(s.error||"Failed to load quality breakdown")}catch(e){console.error("Breakdown error:",e),eo("Error: ".concat(e.message))}finally{eR(!1)}},e5=async e=>{ei(!0),eo(null);try{let t=new URLSearchParams;ec.state&&t.append("state",ec.state),ec.agency&&t.append("agency",ec.agency),ec.dataSource&&t.append("data_source",ec.dataSource),t.append("action","filter"),e.nameKeywords&&t.append("nameKeywords",e.nameKeywords.join(",")),void 0!==e.maxAcres&&t.append("maxAcres",e.maxAcres),void 0!==e.minAcres&&t.append("minAcres",e.minAcres),e.missingFields&&t.append("missingFields",e.missingFields.join(","));let a=await fetch("/api/admin/data-quality?".concat(t.toString())),s=await a.json();if(!a.ok)return void eo(s.error||"Failed to load filtered parks");if(s.success){let e=s.filteredParks||[];ej(e),ey?e1(ey,e):ev(e),ek(new Set)}else eo(s.error||"Failed to load filtered parks")}catch(e){console.error("Filter parks error:",e),eo("Error: ".concat(e.message))}finally{ei(!1)}},e8=async()=>{if(0!==eC.size){eT(!0),eI(null);try{let e=Array.from(eC.entries()).map(e=>{let[t,a]=e;return{id:t,...a}}),t=await fetch("/api/admin/data-quality/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:e})}),a=await t.json();if(!t.ok)return void eI({type:"error",message:a.error||"Failed to save changes"});a.success?(eI({type:"success",message:"Successfully updated ".concat(a.updated," park(s)")}),eP(new Map),eD(null),await e0(),setTimeout(()=>eI(null),3e3)):eI({type:"error",message:a.error||"Failed to save changes"})}catch(e){console.error("Save edits error:",e),eI({type:"error",message:"Error: ".concat(e.message)})}finally{eT(!1)}}},e4=async()=>{if(0===eS.size)return void alert("Please select parks to delete");if(confirm("Are you sure you want to delete ".concat(eS.size," park(s)? This cannot be undone."))){eA(!0);try{let e=await fetch("/api/admin/data-quality",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({parkIds:Array.from(eS)})}),t=await e.json();if(!e.ok)return void eo(t.error||"Failed to delete parks");t.success&&(alert("Successfully deleted ".concat(t.deleted," park(s)")),ek(new Set),e$(),eb.length>0&&e5({}))}catch(e){console.error("Delete parks error:",e),eo("Error: ".concat(e.message))}finally{eA(!1)}}},e3=e=>{let t=new Set(eS);t.has(e)?t.delete(e):t.add(e),ek(t)},e9=()=>{eS.size===eb.length?ek(new Set):ek(new Set(eb.map(e=>e.id)))};return(0,s.jsxs)("div",{className:"admin-panel",children:[(0,s.jsxs)("div",{className:"admin-header",children:[(0,s.jsx)("h1",{children:"\uD83C\uDFDE️ Outside Insiders Admin Panel"}),(0,s.jsx)("p",{children:"Manage park data sources"})]}),(0,s.jsxs)("div",{className:"tab-navigation",children:[(0,s.jsx)("button",{className:"tab ".concat("scraper"===e?"active":""),onClick:()=>t("scraper"),children:"\uD83C\uDF10 Web Scraper"}),(0,s.jsx)("button",{className:"tab ".concat("api"===e?"active":""),onClick:()=>t("api"),children:"\uD83D\uDD0C API Manager"}),(0,s.jsx)("button",{className:"tab ".concat("upload"===e?"active":""),onClick:()=>t("upload"),children:"\uD83D\uDCC1 File Upload"}),(0,s.jsx)("button",{className:"tab ".concat("quality"===e?"active":""),onClick:()=>{t("quality"),en||e$()},children:"\uD83D\uDD0D Data Quality"})]}),(0,s.jsxs)("div",{className:"tab-content",children:["scraper"===e&&(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h2",{children:"Web Scraper"}),(0,s.jsx)("p",{className:"section-description",children:"Scrape park data from websites. Priority: 40 (can't overwrite API or file data)"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"1️⃣ Select State:"}),(0,s.jsxs)("select",{value:y,onChange:e=>{let t=a.find(t=>t.name===e.target.value);eG(e.target.value,null==t?void 0:t.state_code)},disabled:C||h,children:[(0,s.jsx)("option",{value:"",children:"-- Select a State --"}),a.map(e=>(0,s.jsxs)("option",{value:e.name,children:[e.name," (",e.state_code,")"]},e.id))]})]}),y&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"2️⃣ What to Scrape:"}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,s.jsxs)("label",{style:{cursor:"pointer",padding:"5px"},children:[(0,s.jsx)("input",{type:"radio",value:"state",checked:"state"===w,onChange:e=>eY(e.target.value),disabled:C}),(0,s.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,s.jsx)("strong",{children:"State Parks"})," - All state parks in ",y]})]}),(0,s.jsxs)("label",{style:{cursor:"pointer",padding:"5px",background:"#e8f4f8"},children:[(0,s.jsx)("input",{type:"radio",value:"metro",checked:"metro"===w,onChange:e=>eY(e.target.value),disabled:C}),(0,s.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,s.jsx)("strong",{children:"Metro Area"})," - All counties + cities in a metro (bulk)"]})]}),(0,s.jsxs)("label",{style:{cursor:"pointer",padding:"5px"},children:[(0,s.jsx)("input",{type:"radio",value:"county",checked:"county"===w,onChange:e=>eY(e.target.value),disabled:C}),(0,s.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,s.jsx)("strong",{children:"Single County"})," - One specific county"]})]}),(0,s.jsxs)("label",{style:{cursor:"pointer",padding:"5px"},children:[(0,s.jsx)("input",{type:"radio",value:"city",checked:"city"===w,onChange:e=>eY(e.target.value),disabled:C}),(0,s.jsxs)("span",{style:{marginLeft:"8px"},children:[(0,s.jsx)("strong",{children:"Single City"})," - One specific city"]})]})]})]}),"metro"===w&&y&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"3️⃣ Select Metro Area:"}),(0,s.jsxs)("select",{value:f,onChange:e=>eQ(e.target.value),disabled:C||0===n.length,children:[(0,s.jsx)("option",{value:"",children:"-- Select a Metro Area --"}),n.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]}),f&&E&&(0,s.jsxs)("div",{style:{marginTop:"10px",padding:"10px",background:"#f0f7ed",borderRadius:"5px"},children:[(0,s.jsx)("strong",{children:"This metro includes:"}),(0,s.jsxs)("ul",{style:{margin:"5px 0"},children:[(0,s.jsxs)("li",{children:[E.counties," counties"]}),(0,s.jsxs)("li",{children:[E.cities," cities"]}),(0,s.jsx)("li",{children:(0,s.jsxs)("strong",{children:["Total: ",E.counties+E.cities," entities to scrape"]})})]})]})]}),"county"===w&&y&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"3️⃣ Select County:"}),(0,s.jsxs)("select",{value:b,onChange:e=>v(e.target.value),disabled:C||0===d.length,children:[(0,s.jsx)("option",{value:"",children:"-- Select a County --"}),d.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),"city"===w&&y&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"3️⃣ Select City:"}),(0,s.jsxs)("select",{value:S,onChange:e=>k(e.target.value),disabled:C||0===u.length,children:[(0,s.jsx)("option",{value:"",children:"-- Select a City --"}),u.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,s.jsx)("button",{onClick:eV,disabled:C||!y||"metro"===w&&!f||"county"===w&&!b||"city"===w&&!S,className:"primary-button",style:{marginTop:"20px"},children:C?"\uD83D\uDD04 Scraping...":"\uD83D\uDE80 Start Scrape"}),y&&(0,s.jsxs)("div",{style:{marginTop:"10px",padding:"15px",background:"#f8f9fa",borderRadius:"5px"},children:[(0,s.jsx)("strong",{children:"Ready to scrape:"}),"state"===w&&(0,s.jsxs)("p",{children:["All state parks in ",y]}),"metro"===w&&f&&(0,s.jsxs)("p",{children:[E.counties+E.cities," locations in ",f]}),"county"===w&&b&&(0,s.jsxs)("p",{children:["County parks in ",b,", ",y]}),"city"===w&&S&&(0,s.jsxs)("p",{children:["City parks in ",S,", ",y]})]}),F&&(0,s.jsxs)("div",{className:"alert alert-error",children:["❌ ",F]}),N&&(0,s.jsxs)("div",{className:"alert alert-success",children:["✅ Success! ",N.message,void 0!==N.parksFound&&(0,s.jsxs)("div",{className:"result-details",children:[(0,s.jsxs)("p",{children:["Parks found: ",N.parksFound]}),(0,s.jsxs)("p",{children:["Parks added: ",N.parksAdded||0]}),(0,s.jsxs)("p",{children:["Parks updated: ",N.parksUpdated||0]}),(0,s.jsxs)("p",{children:["Parks skipped (protected): ",N.parksSkipped||0]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#e8f4f8",borderRadius:"8px"},children:[(0,s.jsx)("h4",{children:"\uD83D\uDCCA Geographic Data Summary:"}),(0,s.jsxs)("ul",{style:{lineHeight:"1.8"},children:[(0,s.jsxs)("li",{children:["Total States: ",a.length]}),y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("li",{children:["Metros in ",y,": ",n.length]}),(0,s.jsxs)("li",{children:["Counties in ",y,": ",d.length]}),(0,s.jsxs)("li",{children:["Cities in ",y,": ",u.length]})]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:[(0,s.jsx)("h4",{children:"\uD83C\uDFAF Data Protection System:"}),(0,s.jsxs)("ul",{style:{lineHeight:"1.8"},children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Quality Score:"})," 0-100 points based on completeness"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Priority:"})," API (100) → Files (80) → Scrapes (40)"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Protection:"})," High-quality data never overwritten"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Updates:"})," Only if quality improves"]})]})]})]}),"api"===e&&(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h2",{children:"API Manager"}),(0,s.jsx)("p",{className:"section-description",children:"Connect to official park APIs. Priority: 90-100 (highest protection)"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"1️⃣ Select Source Type:"}),(0,s.jsxs)("select",{value:Q,onChange:e=>Y(e.target.value),disabled:Z,children:[(0,s.jsx)("option",{value:"NPS",children:"NPS (National Park Service) - Priority: 100"}),(0,s.jsx)("option",{value:"Recreation.gov",children:"Recreation.gov - Priority: 95"}),(0,s.jsx)("option",{value:"State Agency",children:"State Agency API - Priority: 90"}),(0,s.jsx)("option",{value:"Federal Agency",children:"Federal Agency API - Priority: 90"}),(0,s.jsx)("option",{value:"County Agency",children:"County Agency API - Priority: 85"}),(0,s.jsx)("option",{value:"City Agency",children:"City Agency API - Priority: 85"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"2️⃣ Enter API URL:"}),(0,s.jsx)("input",{type:"url",value:J,onChange:e=>{G(e.target.value),es(null)},placeholder:"https://api.nps.gov/api/v1/parks",disabled:Z,style:{width:"100%",padding:"8px",marginTop:"5px",fontFamily:"monospace"}}),(0,s.jsxs)("p",{style:{marginTop:"5px",fontSize:"0.9rem",color:"#666"},children:[(0,s.jsx)("strong",{children:"Examples:"}),(0,s.jsx)("br",{}),"• NPS: ",(0,s.jsx)("code",{children:"https://api.nps.gov/api/v1/parks"}),(0,s.jsx)("br",{}),"• Recreation.gov: ",(0,s.jsx)("code",{children:"https://ridb.recreation.gov/api/v1/facilities"}),(0,s.jsx)("br",{}),"• State APIs: Check your state's park agency website"]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"3️⃣ API Key (if required):"}),(0,s.jsx)("input",{type:"password",value:V,onChange:e=>X(e.target.value),placeholder:"Enter API key if required by the API",disabled:Z,style:{width:"100%",padding:"8px",marginTop:"5px"}}),(0,s.jsxs)("p",{style:{marginTop:"5px",fontSize:"0.9rem",color:"#666"},children:[(0,s.jsx)("strong",{children:"Note:"})," Some APIs require authentication. Enter your API key here if needed."]})]}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{onClick:eZ,disabled:!J.trim()||!Q||Z,className:"primary-button",children:Z?"⏳ Syncing...":"\uD83D\uDD0C Sync API"})}),ea&&(0,s.jsxs)("div",{className:"error-message",style:{marginTop:"20px",padding:"15px",background:"#fee",borderRadius:"8px",whiteSpace:"pre-wrap"},children:[(0,s.jsx)("strong",{children:"❌ Error:"}),(0,s.jsx)("div",{style:{marginTop:"10px",fontFamily:"monospace",fontSize:"0.9rem"},children:ea})]}),ee&&(0,s.jsx)("div",{className:"success-message",style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:ee.success?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"✅ Sync Complete!"}),(0,s.jsxs)("ul",{style:{textAlign:"left",display:"inline-block"},children:[void 0!==ee.parksFound&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Found:"})," ",ee.parksFound]}),void 0!==ee.parksAdded&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Added:"})," ",ee.parksAdded]}),void 0!==ee.parksUpdated&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Updated:"})," ",ee.parksUpdated]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"ℹ️ API Sync Status"}),(0,s.jsx)("p",{children:ee.message||"API sync endpoint received your request"}),ee.received&&(0,s.jsxs)("div",{style:{marginTop:"10px",padding:"10px",background:"#fff",borderRadius:"5px"},children:[(0,s.jsx)("strong",{children:"Received:"}),(0,s.jsxs)("ul",{style:{textAlign:"left",marginTop:"5px"},children:[(0,s.jsxs)("li",{children:["URL: ",ee.received.apiUrl]}),(0,s.jsxs)("li",{children:["Source Type: ",ee.received.sourceType]}),(0,s.jsxs)("li",{children:["Has API Key: ",ee.received.hasApiKey?"Yes":"No"]})]})]}),ee.note&&(0,s.jsx)("p",{style:{marginTop:"10px",fontStyle:"italic",color:"#666"},children:ee.note})]})}),(0,s.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#e8f4f8",borderRadius:"8px"},children:[(0,s.jsx)("h4",{children:"\uD83D\uDCCB API Sync Features (Coming Soon):"}),(0,s.jsxs)("ul",{style:{lineHeight:"1.8",textAlign:"left"},children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"LLM-Powered Intelligence:"})," Automatically analyzes API structure and suggests optimal endpoints"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Smart Field Mapping:"})," Maps API response fields to park schema automatically"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Deduplication:"})," Intelligently merges with existing park data"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Priority Protection:"})," API data has highest priority (90-100) and won't be overwritten"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Error Recovery:"})," Handles API errors gracefully and provides detailed feedback"]})]})]})]}),"upload"===e&&(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h2",{children:"File Upload"}),(0,s.jsx)("p",{className:"section-description",children:"Upload GeoJSON or Shapefile files. Priority: 80 (protected from scrapes). Files will be intelligently merged with existing data. Large files may take several minutes to process."}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"1️⃣ Select Source Type:"}),(0,s.jsxs)("select",{value:U,onChange:e=>B(e.target.value),disabled:L,children:[(0,s.jsx)("option",{value:"Public Federal",children:"Public Federal"}),(0,s.jsx)("option",{value:"Public State",children:"Public State"}),(0,s.jsx)("option",{value:"State Agency",children:"State Agency"}),(0,s.jsx)("option",{value:"County Agency",children:"County Agency"}),(0,s.jsx)("option",{value:"City Agency",children:"City Agency"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"2️⃣ Enter State (if not in file):"}),(0,s.jsx)("input",{type:"text",value:q,onChange:e=>R(e.target.value),placeholder:"e.g., Georgia, GA, or leave empty if file contains state",disabled:L,style:{width:"100%",padding:"8px",marginTop:"5px"}}),(0,s.jsxs)("p",{style:{marginTop:"5px",fontSize:"0.9rem",color:"#666"},children:[(0,s.jsx)("strong",{children:"Note:"})," Many shapefiles don't include state information. Enter the state here if your file doesn't have it."]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"3️⃣ Select File (GeoJSON, Shapefile, or ZIP):"}),(0,s.jsx)("input",{type:"file",accept:".geojson,.json,.shp,.zip",onChange:e=>{var t;_(null==(t=e.target.files)?void 0:t[0]),H(null),W(null)},disabled:L}),z&&(0,s.jsxs)("p",{style:{marginTop:"10px",color:"#666"},children:["Selected: ",(0,s.jsx)("strong",{children:z.name})," (",(z.size/1024/1024).toFixed(2)," MB)",z.size>0x3200000&&(0,s.jsx)("span",{style:{color:"#ff6b6b",marginLeft:"10px"},children:"⚠️ Large file - processing may take several minutes"})]}),(0,s.jsxs)("p",{style:{marginTop:"10px",fontSize:"0.9rem",color:"#666"},children:[(0,s.jsx)("strong",{children:"Supported formats:"})," GeoJSON (.geojson, .json), Shapefile (.shp), or ZIP archives containing shapefiles (.zip)"]})]}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("button",{onClick:eX,disabled:!z||L,className:"primary-button",children:L?"⏳ Uploading...":"\uD83D\uDCE4 Upload File"})}),K&&(0,s.jsxs)("div",{className:"error-message",style:{marginTop:"20px"},children:[(0,s.jsx)("strong",{children:"Error:"})," ",K]}),O&&(0,s.jsxs)("div",{className:"success-message",style:{marginTop:"20px",padding:"20px",background:"#f0f7ed",borderRadius:"8px"},children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"✅ Upload Complete!"}),(0,s.jsxs)("ul",{style:{textAlign:"left",display:"inline-block"},children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"File:"})," ",O.sourceName]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Source Type:"})," ",O.sourceType]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Found:"})," ",O.parksFound]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Added:"})," ",O.parksAdded]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Updated:"})," ",O.parksUpdated]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Parks Skipped:"})," ",O.parksSkipped]})]}),O.errors&&O.errors.length>0&&(0,s.jsxs)("div",{style:{marginTop:"10px"},children:[(0,s.jsx)("strong",{children:"Errors:"}),(0,s.jsx)("ul",{style:{textAlign:"left"},children:O.errors.map((e,t)=>(0,s.jsxs)("li",{children:[e.park,": ",e.error]},t))})]})]})]}),"quality"===e&&(0,s.jsxs)("div",{className:"section",children:[(0,s.jsx)("h2",{children:"\uD83D\uDD0D Data Quality & Cleanup"}),(0,s.jsx)("p",{className:"section-description",children:"Search and filter parks, review data quality, and clean up your database"}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)("input",{type:"text",value:ey,onChange:e2,placeholder:"Search by city, metro, county, state, federal agency, or any keyword...",disabled:er,style:{width:"100%",padding:"12px 45px 12px 15px",fontSize:"1rem",border:"2px solid #ddd",borderRadius:"8px",boxSizing:"border-box"}}),(0,s.jsx)("span",{style:{position:"absolute",right:"15px",top:"50%",transform:"translateY(-50%)",fontSize:"1.2rem"},children:"\uD83D\uDD0D"})]}),ey&&(0,s.jsx)("p",{style:{marginTop:"8px",fontSize:"0.9rem",color:"#666"},children:er?"Searching...":"Found ".concat(eb.length,' park(s) matching "').concat(ey,'"')})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Filter by State:"}),(0,s.jsxs)("select",{value:ec.state,onChange:e=>{ep({...ec,state:e.target.value})},disabled:er,children:[(0,s.jsx)("option",{value:"",children:"All States"}),a.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Filter by Agency:"}),(0,s.jsxs)("select",{value:ec.agency,onChange:e=>ep({...ec,agency:e.target.value}),disabled:er,style:{width:"100%",padding:"8px"},children:[(0,s.jsx)("option",{value:"",children:"All Agencies"}),eu.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Filter by Data Source:"}),(0,s.jsxs)("select",{value:ec.dataSource,onChange:e=>ep({...ec,dataSource:e.target.value}),disabled:er,style:{width:"100%",padding:"8px"},children:[(0,s.jsx)("option",{value:"",children:"All Data Sources"}),eh.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsx)("div",{className:"form-group",style:{display:"flex",alignItems:"flex-end"},children:(0,s.jsx)("button",{onClick:e$,disabled:er,className:"primary-button",children:er?"⏳ Loading...":"\uD83D\uDCCA Analyze"})})]}),ed&&(0,s.jsxs)("div",{className:"error-message",style:{marginBottom:"20px"},children:["❌ ",ed]}),ef.length>0&&(0,s.jsxs)("div",{style:{marginTop:"20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,s.jsxs)("h3",{children:["\uD83D\uDCCB Parks (",eb.length,")"]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[eC.size>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:e8,disabled:eF,className:"primary-button",style:{background:"#4CAF50",fontSize:"0.9rem",padding:"6px 12px"},children:eF?"⏳ Saving...":"\uD83D\uDCBE Save Changes (".concat(eC.size,")")}),(0,s.jsx)("button",{onClick:()=>{eP(new Map),eD(null),eI(null)},disabled:eF,className:"primary-button",style:{background:"#666",fontSize:"0.9rem",padding:"6px 12px"},children:"Cancel"})]}),eE&&(0,s.jsx)("span",{style:{padding:"4px 12px",borderRadius:"4px",fontSize:"0.85rem",background:"success"===eE.type?"#d4edda":"#f8d7da",color:"success"===eE.type?"#155724":"#721c24"},children:eE.message}),(0,s.jsx)("button",{onClick:e9,className:"primary-button",style:{fontSize:"0.9rem",padding:"6px 12px"},disabled:0===eb.length,children:eS.size===eb.length&&eb.length>0?"Deselect All":"Select All"}),eS.size>0&&(0,s.jsx)("button",{onClick:e4,disabled:ew,className:"primary-button",style:{background:"#ff6b6b",fontSize:"0.9rem",padding:"6px 12px"},children:ew?"⏳ Deleting...":"\uD83D\uDDD1️ Delete (".concat(eS.size,")")})]})]}),0===eb.length?(0,s.jsxs)("div",{style:{padding:"40px",textAlign:"center",background:"#f9f9f9",borderRadius:"8px"},children:[(0,s.jsx)("p",{style:{color:"#666"},children:"No parks match your search criteria."}),(0,s.jsx)("button",{onClick:()=>{em(""),ev(ef)},className:"primary-button",style:{marginTop:"15px",fontSize:"0.9rem"},children:"Clear Search"})]}):(0,s.jsx)("div",{style:{maxHeight:"600px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",background:"#fff"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{background:"#f5f5f5",position:"sticky",top:0,zIndex:10},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:(0,s.jsx)("input",{type:"checkbox",checked:eS.size===eb.length&&eb.length>0,onChange:e9})}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Name"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"State"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Agency"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Acres"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},children:"Quality"})]})}),(0,s.jsx)("tbody",{children:eb.map((e,t)=>{var a,r,i,n;return(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #eee",background:t%2==0?"#fff":"#fafafa"},children:[(0,s.jsx)("td",{style:{padding:"12px"},children:(0,s.jsx)("input",{type:"checkbox",checked:eS.has(e.id),onChange:()=>e3(e.id)})}),(0,s.jsx)(c,{parkId:e.id,field:"name",value:e.name||"Unnamed",editedValue:null==(a=eC.get(e.id))?void 0:a.name,isEditing:(null==eN?void 0:eN.parkId)===e.id&&(null==eN?void 0:eN.field)==="name",onStartEdit:()=>eD({parkId:e.id,field:"name"}),onSave:t=>{let a=eC.get(e.id)||{};a.name=t,eP(new Map(eC).set(e.id,a)),eD(null)},onCancel:()=>eD(null)}),(0,s.jsx)(c,{parkId:e.id,field:"state",value:e.state||"N/A",editedValue:null==(r=eC.get(e.id))?void 0:r.state,isEditing:(null==eN?void 0:eN.parkId)===e.id&&(null==eN?void 0:eN.field)==="state",onStartEdit:()=>eD({parkId:e.id,field:"state"}),onSave:t=>{let a=eC.get(e.id)||{};a.state=t,eP(new Map(eC).set(e.id,a)),eD(null)},onCancel:()=>eD(null)}),(0,s.jsx)(c,{parkId:e.id,field:"agency",value:e.agency||"N/A",editedValue:null==(i=eC.get(e.id))?void 0:i.agency,isEditing:(null==eN?void 0:eN.parkId)===e.id&&(null==eN?void 0:eN.field)==="agency",onStartEdit:()=>eD({parkId:e.id,field:"agency"}),onSave:t=>{let a=eC.get(e.id)||{};a.agency=t,eP(new Map(eC).set(e.id,a)),eD(null)},onCancel:()=>eD(null)}),(0,s.jsx)(c,{parkId:e.id,field:"acres",value:e.acres?e.acres.toFixed(2):"N/A",editedValue:null==(n=eC.get(e.id))?void 0:n.acres,isEditing:(null==eN?void 0:eN.parkId)===e.id&&(null==eN?void 0:eN.field)==="acres",onStartEdit:()=>eD({parkId:e.id,field:"acres"}),onSave:t=>{let a=eC.get(e.id)||{},s=parseFloat(t);a.acres=isNaN(s)?null:s,eP(new Map(eC).set(e.id,a)),eD(null)},onCancel:()=>eD(null),type:"number"}),(0,s.jsx)("td",{style:{padding:"12px"},children:(0,s.jsxs)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"500",background:e.qualityScore>=80?"#d4edda":e.qualityScore>=60?"#d1ecf1":e.qualityScore>=40?"#fff3cd":"#f8d7da",color:e.qualityScore>=80?"#155724":e.qualityScore>=60?"#0c5460":e.qualityScore>=40?"#856404":"#721c24"},children:[e.qualityScore||0,"/100"]})})]},e.id)})})]})})]}),!ey&&0===eb.length&&!er&&(0,s.jsx)("div",{style:{padding:"40px",textAlign:"center",background:"#f9f9f9",borderRadius:"8px",marginTop:"20px"},children:(0,s.jsx)("p",{style:{color:"#666",marginBottom:"15px"},children:"Enter a search term above to find parks"})}),ey&&0===eb.length&&!er&&(0,s.jsx)("div",{style:{padding:"40px",textAlign:"center",background:"#f9f9f9",borderRadius:"8px",marginTop:"20px"},children:(0,s.jsxs)("p",{style:{color:"#666"},children:['No parks found matching "',ey,'"']})}),ef.length>0&&(0,s.jsxs)("div",{style:{marginTop:"40px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,s.jsx)("h3",{children:"\uD83D\uDCCA Quality Breakdown Matrix"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,s.jsx)("button",{onClick:()=>e6("state"),disabled:eq,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"state"===ez?"#4CAF50":"#666"},children:"State Parks"}),(0,s.jsx)("button",{onClick:()=>e6("agency"),disabled:eq,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"agency"===ez?"#4CAF50":"#666"},children:"Federal Agencies"}),(0,s.jsx)("button",{onClick:()=>e6("agency"),disabled:eq,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"agency"===ez?"#4CAF50":"#666"},children:"All Agencies"}),(0,s.jsx)("button",{onClick:()=>e6("county"),disabled:eq,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"county"===ez?"#4CAF50":"#666"},children:"Counties"}),(0,s.jsx)("button",{onClick:()=>e6("city"),disabled:eq,className:"primary-button",style:{fontSize:"0.85rem",padding:"6px 12px",background:"city"===ez?"#4CAF50":"#666"},children:"Cities"})]})]}),eq&&(0,s.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,s.jsx)("p",{children:"Loading breakdown..."})}),eU&&eU.length>0&&!eq&&(0,s.jsx)("div",{style:{maxHeight:"500px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",background:"#fff"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{background:"#f5f5f5",position:"sticky",top:0,zIndex:10},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",borderRight:"2px solid #ddd",fontWeight:"600",position:"sticky",left:0,background:"#f5f5f5"},children:ez.charAt(0).toUpperCase()+ez.slice(1)}),eU.columns.map(e=>(0,s.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd",fontWeight:"600",minWidth:"100px"},children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})}),(0,s.jsx)("tbody",{children:eU.map((e,t)=>{let a=e.averageScore>=80?"#d4edda":e.averageScore>=60?"#d1ecf1":e.averageScore>=40?"#fff3cd":"#f8d7da",r=e.averageScore>=80?"#155724":e.averageScore>=60?"#0c5460":e.averageScore>=40?"#856404":"#721c24";return(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #eee",background:t%2==0?"#fff":"#fafafa"},children:[(0,s.jsx)("td",{style:{padding:"12px",fontWeight:"500"},children:e.group}),(0,s.jsx)("td",{style:{padding:"12px"},children:e.count}),(0,s.jsx)("td",{style:{padding:"12px"},children:(0,s.jsxs)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"500",background:a,color:r},children:[e.averageScore.toFixed(1),"/100"]})}),(0,s.jsx)("td",{style:{padding:"12px",fontSize:"0.9rem"},children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,s.jsxs)("div",{children:["\uD83D\uDCCD ",e.completeness.coordinates,"%"]}),(0,s.jsxs)("div",{children:["\uD83D\uDCDD ",e.completeness.description,"%"]}),(0,s.jsxs)("div",{children:["\uD83C\uDF10 ",e.completeness.website,"%"]}),(0,s.jsxs)("div",{children:["\uD83D\uDDFA️ ",e.completeness.geometry,"%"]})]})}),(0,s.jsx)("td",{style:{padding:"12px",fontSize:"0.85rem",color:"#666"},children:e.weakFields.length>0?(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.weakFields.map(e=>(0,s.jsx)("span",{style:{padding:"2px 6px",background:"#fee",borderRadius:"3px",fontSize:"0.75rem"},children:e},e))}):(0,s.jsx)("span",{style:{color:"#4CAF50"},children:"✓ Good"})})]},e.group)})})]})}),eU&&(!eU.rows||0===eU.rows.length)&&!eq&&(0,s.jsx)("div",{style:{padding:"20px",textAlign:"center",background:"#f9f9f9",borderRadius:"8px"},children:(0,s.jsx)("p",{style:{color:"#666"},children:"No breakdown data available"})})]}),en&&en.likelyNonParks.length>0&&0===eb.length&&(0,s.jsxs)("div",{style:{marginTop:"30px"},children:[(0,s.jsxs)("h3",{children:["\uD83D\uDEAB Likely Non-Parks (",en.likelyNonParks.length,")"]}),(0,s.jsx)("p",{style:{color:"#666",marginBottom:"15px"},children:"These parks may be offices, facilities, or other non-park locations"}),(0,s.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{background:"#f5f5f5",position:"sticky",top:0},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:(0,s.jsx)("input",{type:"checkbox",checked:eS.size===en.likelyNonParks.length&&en.likelyNonParks.length>0,onChange:()=>{eS.size===en.likelyNonParks.length?ek(new Set):ek(new Set(en.likelyNonParks.map(e=>e.id)))}})}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Name"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"State"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Agency"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Reason"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Acres"})]})}),(0,s.jsx)("tbody",{children:en.likelyNonParks.map(e=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,s.jsx)("td",{style:{padding:"10px"},children:(0,s.jsx)("input",{type:"checkbox",checked:eS.has(e.id),onChange:()=>e3(e.id)})}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.name}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.state}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.agency}),(0,s.jsx)("td",{style:{padding:"10px",fontSize:"0.9rem",color:"#666"},children:e.reason}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.acres?e.acres.toFixed(2):"N/A"})]},e.id))})]})}),eS.size>0&&(0,s.jsx)("div",{style:{marginTop:"15px"},children:(0,s.jsx)("button",{onClick:e4,disabled:ew,className:"primary-button",style:{background:"#ff6b6b"},children:ew?"⏳ Deleting...":"\uD83D\uDDD1️ Delete Selected (".concat(eS.size,")")})})]})]})]}),(0,s.jsxs)("div",{className:"admin-footer",children:[(0,s.jsx)("h4",{children:"\uD83D\uDEE1️ Data Priority System"}),(0,s.jsxs)("div",{className:"priority-info",children:[(0,s.jsxs)("div",{className:"priority-item",children:[(0,s.jsx)("span",{className:"priority-badge priority-100",children:"100"}),(0,s.jsx)("span",{children:"API Data - Never overwritten"})]}),(0,s.jsxs)("div",{className:"priority-item",children:[(0,s.jsx)("span",{className:"priority-badge priority-80",children:"80"}),(0,s.jsx)("span",{children:"Agency Files - Protected"})]}),(0,s.jsxs)("div",{className:"priority-item",children:[(0,s.jsx)("span",{className:"priority-badge priority-40",children:"40"}),(0,s.jsx)("span",{children:"Web Scrapes - Fills gaps"})]})]})]})]})}},4635:(e,t,a)=>{Promise.resolve().then(a.bind(a,4180))},6255:()=>{}},e=>{e.O(0,[332,993,441,255,358],()=>e(e.s=4635)),_N_E=e.O()}]);